<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Knowledge acquisition personal's notes, blog drafts"><link href=https://jeromeboyer.net/coding/gitops/ rel=canonical><link href=../git/ rel=prev><link href=../tekton/ rel=next><link rel=icon href=../../images/logo-blue.drawio.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.5.39"><title>GitOps - Jerome Boyer's Personal Site</title><link rel=stylesheet href=../../assets/stylesheets/main.8c3ca2c6.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#gitops class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Jerome Boyer's Personal Site" class="md-header__button md-logo" aria-label="Jerome Boyer's Personal Site" data-md-component=logo> <img src=../../images/logo.drawio.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Jerome Boyer's Personal Site </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> GitOps </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/jbcodeforce/jbcodeforce.github.io/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../about/ class=md-tabs__link> Home </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../playground/ class=md-tabs__link> Coding </a> </li> <li class=md-tabs__item> <a href=../../blogs/consultant-job/ class=md-tabs__link> Knowledge base </a> </li> <li class=md-tabs__item> <a href=../../techno/apicurio/ class=md-tabs__link> Techno </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Jerome Boyer's Personal Site" class="md-nav__button md-logo" aria-label="Jerome Boyer's Personal Site" data-md-component=logo> <img src=../../images/logo.drawio.png alt=logo> </a> Jerome Boyer's Personal Site </label> <div class=md-nav__source> <a href=https://github.com/jbcodeforce/jbcodeforce.github.io/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1 id=__nav_1_label tabindex=0> <span class=md-ellipsis> Home </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../about/ class=md-nav__link> <span class=md-ellipsis> About </span> </a> </li> <li class=md-nav__item> <a href=../../skills/ class=md-nav__link> <span class=md-ellipsis> Skills </span> </a> </li> <li class=md-nav__item> <a href=../../blogs/ class=md-nav__link> <span class=md-ellipsis> Blogs </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1_4> <label class=md-nav__link for=__nav_1_4 id=__nav_1_4_label tabindex=0> <span class=md-ellipsis> Leasure </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_1_4_label aria-expanded=false> <label class=md-nav__title for=__nav_1_4> <span class="md-nav__icon md-icon"></span> Leasure </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../astronomy/ class=md-nav__link> <span class=md-ellipsis> Astronomy </span> </a> </li> <li class=md-nav__item> <a href=../../astronomy/physic/ class=md-nav__link> <span class=md-ellipsis> Physic - Newton </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex> <span class=md-ellipsis> Coding </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Coding </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../playground/ class=md-nav__link> <span class=md-ellipsis> Playground </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2 checked> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> Dev & Ops </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Dev & Ops </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../agile/ class=md-nav__link> <span class=md-ellipsis> Agile </span> </a> </li> <li class=md-nav__item> <a href=../git/ class=md-nav__link> <span class=md-ellipsis> Git summary </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> GitOps </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> GitOps </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#requirements class=md-nav__link> <span class=md-ellipsis> Requirements </span> </a> </li> <li class=md-nav__item> <a href=#core-principles class=md-nav__link> <span class=md-ellipsis> Core principles </span> </a> </li> <li class=md-nav__item> <a href=#supporting-tools class=md-nav__link> <span class=md-ellipsis> Supporting tools </span> </a> </li> <li class=md-nav__item> <a href=#git-action class=md-nav__link> <span class=md-ellipsis> Git Action </span> </a> </li> <li class=md-nav__item> <a href=#openshift-gitops class=md-nav__link> <span class=md-ellipsis> OpenShift GitOps </span> </a> <nav class=md-nav aria-label="OpenShift GitOps"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#proposed-git-repository-structure class=md-nav__link> <span class=md-ellipsis> Proposed git repository structure </span> </a> </li> <li class=md-nav__item> <a href=#openshift-projects class=md-nav__link> <span class=md-ellipsis> OpenShift Projects </span> </a> </li> <li class=md-nav__item> <a href=#services class=md-nav__link> <span class=md-ellipsis> Services </span> </a> </li> <li class=md-nav__item> <a href=#application class=md-nav__link> <span class=md-ellipsis> Application </span> </a> </li> <li class=md-nav__item> <a href=#process class=md-nav__link> <span class=md-ellipsis> Process </span> </a> </li> <li class=md-nav__item> <a href=#the-pre-and-post-synch-processing class=md-nav__link> <span class=md-ellipsis> The pre and post synch processing </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#openshift-pipelines class=md-nav__link> <span class=md-ellipsis> OpenShift Pipelines </span> </a> </li> <li class=md-nav__item> <a href=#kustomize-and-gitops class=md-nav__link> <span class=md-ellipsis> Kustomize and gitops </span> </a> <nav class=md-nav aria-label="Kustomize and gitops"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#future-readings class=md-nav__link> <span class=md-ellipsis> Future readings </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#kam-gitops-application-manager-cli class=md-nav__link> <span class=md-ellipsis> KAM - Gitops Application Manager CLI </span> </a> <nav class=md-nav aria-label="KAM - Gitops Application Manager CLI"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#pre-requisites class=md-nav__link> <span class=md-ellipsis> Pre-requisites </span> </a> </li> <li class=md-nav__item> <a href=#creating-a-gitops-project-for-a-given-solution class=md-nav__link> <span class=md-ellipsis> Creating a GitOps project for a given solution </span> </a> </li> <li class=md-nav__item> <a href=#what-is-inside class=md-nav__link> <span class=md-ellipsis> What is inside </span> </a> </li> <li class=md-nav__item> <a href=#secrets class=md-nav__link> <span class=md-ellipsis> Secrets </span> </a> </li> <li class=md-nav__item> <a href=#what-to-do-from-there class=md-nav__link> <span class=md-ellipsis> What to do from there </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#future-readings_1 class=md-nav__link> <span class=md-ellipsis> Future readings </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../tekton/ class=md-nav__link> <span class=md-ellipsis> Tekton </span> </a> </li> <li class=md-nav__item> <a href=../argocd/ class=md-nav__link> <span class=md-ellipsis> ArgoCD </span> </a> </li> <li class=md-nav__item> <a href=../finch/ class=md-nav__link> <span class=md-ellipsis> Finch </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class=md-ellipsis> Fun problems </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Fun problems </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../fun/puzzles/ class=md-nav__link> <span class=md-ellipsis> puzzles </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4 id=__nav_2_4_label tabindex=0> <span class=md-ellipsis> Java </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Java </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../java/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../../java/FAQ/ class=md-nav__link> <span class=md-ellipsis> Java FAQ </span> </a> </li> <li class=md-nav__item> <a href=../../java/concurrent/ class=md-nav__link> <span class=md-ellipsis> Concurrency </span> </a> </li> <li class=md-nav__item> <a href=../../java/funqy/ class=md-nav__link> <span class=md-ellipsis> Funqy </span> </a> </li> <li class=md-nav__item> <a href=../../java/microprofile/ class=md-nav__link> <span class=md-ellipsis> Microprofile 3.x </span> </a> </li> <li class=md-nav__item> <a href=../../java/openliberty/ class=md-nav__link> <span class=md-ellipsis> Open Liberty </span> </a> </li> <li class=md-nav__item> <a href=../../java/quarkus/ class=md-nav__link> <span class=md-ellipsis> Quarkus </span> </a> </li> <li class=md-nav__item> <a href=../../java/restassured/ class=md-nav__link> <span class=md-ellipsis> Rest assured </span> </a> </li> <li class=md-nav__item> <a href=../../java/springcloud/ class=md-nav__link> <span class=md-ellipsis> SpringCloud </span> </a> </li> <li class=md-nav__item> <a href=../testcontainer/ class=md-nav__link> <span class=md-ellipsis> TestContainer </span> </a> </li> <li class=md-nav__item> <a href=../../java/vertx/ class=md-nav__link> <span class=md-ellipsis> Vert.x </span> </a> </li> <li class=md-nav__item> <a href=../../java/java-vscode/ class=md-nav__link> <span class=md-ellipsis> VScode </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../techno/podman/ class=md-nav__link> <span class=md-ellipsis> Podman </span> </a> </li> <li class=md-nav__item> <a href=../reactjs/ class=md-nav__link> <span class=md-ellipsis> React.js & next.js </span> </a> </li> <li class=md-nav__item> <a href=../istio/ class=md-nav__link> <span class=md-ellipsis> istio </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/python-code class=md-nav__link> <span class=md-ellipsis> Python </span> </a> </li> <li class=md-nav__item> <a href=../knative/ class=md-nav__link> <span class=md-ellipsis> Knative </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/vuejs-studies/ class=md-nav__link> <span class=md-ellipsis> Vue.js Studies </span> </a> </li> <li class=md-nav__item> <a href=https://cloudnative101.dev/ class=md-nav__link> <span class=md-ellipsis> Cloud native content IBM </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/angular-sandbox/ class=md-nav__link> <span class=md-ellipsis> Angular </span> </a> </li> <li class=md-nav__item> <a href=../../code-template/ class=md-nav__link> <span class=md-ellipsis> My code templates </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Knowledge base </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Knowledge base </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../blogs/consultant-job/ class=md-nav__link> <span class=md-ellipsis> The SA job </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class=md-ellipsis> Leadership </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Leadership </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../leadership/first-90-days/ class=md-nav__link> <span class=md-ellipsis> 90 Days </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class=md-ellipsis> Architecture </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Architecture </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../architecture/system-design/ class=md-nav__link> <span class=md-ellipsis> Conduct System Design </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/eda-studies class=md-nav__link> <span class=md-ellipsis> Event Driven Architecture </span> </a> </li> <li class=md-nav__item> <a href=../../architecture/tcpip/ class=md-nav__link> <span class=md-ellipsis> TPC/IP summary </span> </a> </li> <li class=md-nav__item> <a href=../../architecture/flow-architectures/ class=md-nav__link> <span class=md-ellipsis> Flow architectures </span> </a> </li> <li class=md-nav__item> <a href=../../architecture/streaming/ class=md-nav__link> <span class=md-ellipsis> Streaming processing </span> </a> </li> <li class=md-nav__item> <a href=../../architecture/architectural-decisions/ class=md-nav__link> <span class=md-ellipsis> Architecture decision </span> </a> </li> <li class=md-nav__item> <a href="https://jbcodef orce.github.io/eda-studies/ddd" class=md-nav__link> <span class=md-ellipsis> DDD </span> </a> </li> <li class=md-nav__item> <a href=../../architecture/DR/ class=md-nav__link> <span class=md-ellipsis> Disaster recovery </span> </a> </li> <li class=md-nav__item> <a href=../istio/ class=md-nav__link> <span class=md-ellipsis> istio </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/openshift-studies class=md-nav__link> <span class=md-ellipsis> Openshift Studies </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4 id=__nav_3_4_label tabindex=0> <span class=md-ellipsis> Methodology </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> Methodology </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../methodology/design-thinking/ class=md-nav__link> <span class=md-ellipsis> Design Thinking </span> </a> </li> <li class=md-nav__item> <a href=../../methodology/data-intensive/ class=md-nav__link> <span class=md-ellipsis> Data intensive </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/eda-studies/event-storming/ class=md-nav__link> <span class=md-ellipsis> Event Storming </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/eda-studies/ddd/ class=md-nav__link> <span class=md-ellipsis> Domain driven design </span> </a> </li> <li class=md-nav__item> <a href=../../methodology/lean-startup/ class=md-nav__link> <span class=md-ellipsis> Lean startup </span> </a> </li> <li class=md-nav__item> <a href=../../methodology/pm/ class=md-nav__link> <span class=md-ellipsis> Product manager </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_7> <label class=md-nav__link for=__nav_3_4_7 id=__nav_3_4_7_label tabindex=0> <span class=md-ellipsis> ABRD </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_4_7_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4_7> <span class="md-nav__icon md-icon"></span> ABRD </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../methodology/abrd/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../../methodology/abrd/concept/ class=md-nav__link> <span class=md-ellipsis> Concepts </span> </a> </li> <li class=md-nav__item> <a href=../../methodology/abrd/harvesting/ class=md-nav__link> <span class=md-ellipsis> Rule Harvesting </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../methodology/narrative/ class=md-nav__link> <span class=md-ellipsis> Narratives </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_5> <label class=md-nav__link for=__nav_3_5 id=__nav_3_5_label tabindex=0> <span class=md-ellipsis> Data </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> Data </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../data/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../../techno/data/ class=md-nav__link> <span class=md-ellipsis> Iceberg & others </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/db-play/ class=md-nav__link> <span class=md-ellipsis> Database play </span> </a> </li> <li class=md-nav__item> <a href=../../data/data-topology/ class=md-nav__link> <span class=md-ellipsis> Data topology </span> </a> </li> <li class=md-nav__item> <a href=../../data/data-integration/ class=md-nav__link> <span class=md-ellipsis> Data integration </span> </a> </li> <li class=md-nav__item> <a href=../../data/data-replication/ class=md-nav__link> <span class=md-ellipsis> Data replication </span> </a> </li> <li class=md-nav__item> <a href=../../data/data-partitioning/ class=md-nav__link> <span class=md-ellipsis> Data partitioning </span> </a> </li> <li class=md-nav__item> <a href=../../architecture/streaming/ class=md-nav__link> <span class=md-ellipsis> Streaming processing </span> </a> </li> <li class=md-nav__item> <a href=../../architecture/opendatahub/ class=md-nav__link> <span class=md-ellipsis> OpenData Hub </span> </a> </li> <li class=md-nav__item> <a href=../../data/olap/ class=md-nav__link> <span class=md-ellipsis> OLAP </span> </a> </li> <li class=md-nav__item> <a href=../../data/cassandra/ class=md-nav__link> <span class=md-ellipsis> Cassandra </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_6> <label class=md-nav__link for=__nav_3_6 id=__nav_3_6_label tabindex=0> <span class=md-ellipsis> AI </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_6_label aria-expanded=false> <label class=md-nav__title for=__nav_3_6> <span class="md-nav__icon md-icon"></span> AI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/ML-studies/#machine-learning class=md-nav__link> <span class=md-ellipsis> Machine learning </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/ML-studies/ml/deep-learning/ class=md-nav__link> <span class=md-ellipsis> Deep learning </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Techno </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Techno </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../techno/apicurio/ class=md-nav__link> <span class=md-ellipsis> Apicurio </span> </a> </li> <li class=md-nav__item> <a href=../../techno/atlas/ class=md-nav__link> <span class=md-ellipsis> Atlas </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/yarfba class=md-nav__link> <span class=md-ellipsis> AWS body of knowledge </span> </a> </li> <li class=md-nav__item> <a href=../../techno/code-engine/ class=md-nav__link> <span class=md-ellipsis> Code Engine </span> </a> </li> <li class=md-nav__item> <a href=../../techno/databricks/ class=md-nav__link> <span class=md-ellipsis> Databricks </span> </a> </li> <li class=md-nav__item> <a href=../../techno/docker/ class=md-nav__link> <span class=md-ellipsis> Docker </span> </a> </li> <li class=md-nav__item> <a href=../../techno/decisions/drools/ class=md-nav__link> <span class=md-ellipsis> Drools </span> </a> </li> <li class=md-nav__item> <a href=../../techno/egeria/ class=md-nav__link> <span class=md-ellipsis> Egeria </span> </a> </li> <li class=md-nav__item> <a href=../../techno/elasticsrch/ class=md-nav__link> <span class=md-ellipsis> Elastic Search </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/flink-studies/ class=md-nav__link> <span class=md-ellipsis> Flink Studies </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_11> <label class=md-nav__link for=__nav_4_11 id=__nav_4_11_label tabindex=0> <span class=md-ellipsis> IBM </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_11_label aria-expanded=false> <label class=md-nav__title for=__nav_4_11> <span class="md-nav__icon md-icon"></span> IBM </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../architecture/ibmcloud/ class=md-nav__link> <span class=md-ellipsis> IBM Cloud </span> </a> </li> <li class=md-nav__item> <a href=../../architecture/satellite/ class=md-nav__link> <span class=md-ellipsis> IBM Cloud Satellite </span> </a> </li> <li class=md-nav__item> <a href=../../techno/cos/ class=md-nav__link> <span class=md-ellipsis> Cloud object storage </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_11_4> <label class=md-nav__link for=__nav_4_11_4 id=__nav_4_11_4_label tabindex=0> <span class=md-ellipsis> Cloud Pak Automation </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_11_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_11_4> <span class="md-nav__icon md-icon"></span> Cloud Pak Automation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../techno/cp4a/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../techno/cp4a/bai/ class=md-nav__link> <span class=md-ellipsis> BAI </span> </a> </li> <li class=md-nav__item> <a href=../../techno/cp4a/odm/ class=md-nav__link> <span class=md-ellipsis> ODM </span> </a> </li> <li class=md-nav__item> <a href=../../techno/cp4a/ads/ class=md-nav__link> <span class=md-ellipsis> Automation Decision Service </span> </a> </li> <li class=md-nav__item> <a href=../../techno/cp4a/process-mining/ class=md-nav__link> <span class=md-ellipsis> Process mining </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_11_5> <label class=md-nav__link for=__nav_4_11_5 id=__nav_4_11_5_label tabindex=0> <span class=md-ellipsis> Cloud Pak integration </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_11_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_11_5> <span class="md-nav__icon md-icon"></span> Cloud Pak integration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../techno/integration/cp4i/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../techno/integration/apic/ class=md-nav__link> <span class=md-ellipsis> APIC </span> </a> </li> <li class=md-nav__item> <a href=../../techno/integration/eepm/ class=md-nav__link> <span class=md-ellipsis> EEPM </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_11_5_4> <label class=md-nav__link for=__nav_4_11_5_4 id=__nav_4_11_5_4_label tabindex=0> <span class=md-ellipsis> MQ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_4_11_5_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_11_5_4> <span class="md-nav__icon md-icon"></span> MQ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../techno/integration/mq/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../java/mqChallenge/ class=md-nav__link> <span class=md-ellipsis> MQ challenge </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/kafka-studies class=md-nav__link> <span class=md-ellipsis> Kafka Studies </span> </a> </li> <li class=md-nav__item> <a href=../../techno/kar/ class=md-nav__link> <span class=md-ellipsis> KAR </span> </a> </li> <li class=md-nav__item> <a href=../../techno/microcks/ class=md-nav__link> <span class=md-ellipsis> Microcks </span> </a> </li> <li class=md-nav__item> <a href=../../techno/minikube/ class=md-nav__link> <span class=md-ellipsis> Minikube </span> </a> </li> <li class=md-nav__item> <a href=../../techno/podman/ class=md-nav__link> <span class=md-ellipsis> Podman </span> </a> </li> <li class=md-nav__item> <a href=../../techno/prometheus/ class=md-nav__link> <span class=md-ellipsis> Prometheus </span> </a> </li> <li class=md-nav__item> <a href=../../techno/rancherdesktop/ class=md-nav__link> <span class=md-ellipsis> Rancher Desktop </span> </a> </li> <li class=md-nav__item> <a href=../../techno/redis/ class=md-nav__link> <span class=md-ellipsis> Redis </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/redpanda-studies/ class=md-nav__link> <span class=md-ellipsis> Red Panda </span> </a> </li> <li class=md-nav__item> <a href=../../techno/scaleway/ class=md-nav__link> <span class=md-ellipsis> Scaleway </span> </a> </li> <li class=md-nav__item> <a href=../../techno/solr/ class=md-nav__link> <span class=md-ellipsis> Solr </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/spark-studies/ class=md-nav__link> <span class=md-ellipsis> Spark Studies </span> </a> </li> <li class=md-nav__item> <a href=../../java/java-vscode/ class=md-nav__link> <span class=md-ellipsis> VScode </span> </a> </li> <li class=md-nav__item> <a href=../../techno/wsl2/ class=md-nav__link> <span class=md-ellipsis> WSL2-Ubuntu </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#requirements class=md-nav__link> <span class=md-ellipsis> Requirements </span> </a> </li> <li class=md-nav__item> <a href=#core-principles class=md-nav__link> <span class=md-ellipsis> Core principles </span> </a> </li> <li class=md-nav__item> <a href=#supporting-tools class=md-nav__link> <span class=md-ellipsis> Supporting tools </span> </a> </li> <li class=md-nav__item> <a href=#git-action class=md-nav__link> <span class=md-ellipsis> Git Action </span> </a> </li> <li class=md-nav__item> <a href=#openshift-gitops class=md-nav__link> <span class=md-ellipsis> OpenShift GitOps </span> </a> <nav class=md-nav aria-label="OpenShift GitOps"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#proposed-git-repository-structure class=md-nav__link> <span class=md-ellipsis> Proposed git repository structure </span> </a> </li> <li class=md-nav__item> <a href=#openshift-projects class=md-nav__link> <span class=md-ellipsis> OpenShift Projects </span> </a> </li> <li class=md-nav__item> <a href=#services class=md-nav__link> <span class=md-ellipsis> Services </span> </a> </li> <li class=md-nav__item> <a href=#application class=md-nav__link> <span class=md-ellipsis> Application </span> </a> </li> <li class=md-nav__item> <a href=#process class=md-nav__link> <span class=md-ellipsis> Process </span> </a> </li> <li class=md-nav__item> <a href=#the-pre-and-post-synch-processing class=md-nav__link> <span class=md-ellipsis> The pre and post synch processing </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#openshift-pipelines class=md-nav__link> <span class=md-ellipsis> OpenShift Pipelines </span> </a> </li> <li class=md-nav__item> <a href=#kustomize-and-gitops class=md-nav__link> <span class=md-ellipsis> Kustomize and gitops </span> </a> <nav class=md-nav aria-label="Kustomize and gitops"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#future-readings class=md-nav__link> <span class=md-ellipsis> Future readings </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#kam-gitops-application-manager-cli class=md-nav__link> <span class=md-ellipsis> KAM - Gitops Application Manager CLI </span> </a> <nav class=md-nav aria-label="KAM - Gitops Application Manager CLI"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#pre-requisites class=md-nav__link> <span class=md-ellipsis> Pre-requisites </span> </a> </li> <li class=md-nav__item> <a href=#creating-a-gitops-project-for-a-given-solution class=md-nav__link> <span class=md-ellipsis> Creating a GitOps project for a given solution </span> </a> </li> <li class=md-nav__item> <a href=#what-is-inside class=md-nav__link> <span class=md-ellipsis> What is inside </span> </a> </li> <li class=md-nav__item> <a href=#secrets class=md-nav__link> <span class=md-ellipsis> Secrets </span> </a> </li> <li class=md-nav__item> <a href=#what-to-do-from-there class=md-nav__link> <span class=md-ellipsis> What to do from there </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#future-readings_1 class=md-nav__link> <span class=md-ellipsis> Future readings </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=gitops>GitOps<a class=headerlink href=#gitops title="Permanent link">&para;</a></h1> <p><a href=https://www.gitops.tech/ >Gitops</a> is a way of implementing Continuous Deployment for containerized applications.</p> <p>The core concept of GitOps is to maintain a single Git repository that consistently holds declarative descriptions of the desired infrastructure in the production environment. An automated process ensures that the production environment aligns with the state described in the repository.</p> <p>From an infrastructure perspective, we aim to govern the infrastructure effectively and ensure that what is expected aligns with what actually occurs.</p> <h2 id=requirements>Requirements<a class=headerlink href=#requirements title="Permanent link">&para;</a></h2> <p>Developer and operation teams want to:</p> <ul> <li>Audit all changes made to pipelines, infrastructure, and application configuration.</li> <li>Roll forward/backward to desired state in case of issues.</li> <li>Consistently configure all deployment environments.</li> <li>Reduce manual effort by automating application and environment setup and remediation.</li> <li>Have an easy way to manage application and infrastructure state across clusters/environments</li> </ul> <p>GitOps is a natural evolution of DevOps and Infrastructure-as-Code.</p> <h2 id=core-principles>Core principles<a class=headerlink href=#core-principles title="Permanent link">&para;</a></h2> <ul> <li>Git is the source of truth for both application code, application configuration, dependant service/product deployments, infrastructure config and deployment.</li> <li>The management operations are splitted into Day 1 and Day 2 operations. Day 1 to install GipOps pipeline, Day2 to add more applications.</li> <li>Separate application source code (Java/Go) from deployment manifests i.e the application source code and the GitOps configuration reside in separate git repositories.</li> <li>Deployment manifests are standard Kubernetes (k8s) manifests i.e Kubernetes manifests in the GitOps repository can be simply applied with nothing more than a <code>oc apply</code> or <code>kubectl apply</code>.</li> <li><a href=https://kustomize.io/ >Kustomize.io</a> is used as template engine for defining the differences between environments i.e reusable parameters with extra resources described using <code>kustomization.yaml</code>.</li> <li>Minimize yaml duplication - no copy/paste</li> <li>Support two axis of configuration: clusters and environments: prod, test, dev. (Accept separating production repo if organization is willing to do so).</li> <li>Prefer a multi-folder and/or multi-repo structure over multi-branch. Avoid dev or test configuration in different branches. In a microservices world, a one branch per environment will quickly lead to an explosion of branches which again becomes difficult and cumbersome to maintain.</li> <li>Minimize specific gitops tool dependencies: (Try to converge to Tekton and ArgoCD)</li> <li> <p>Do not put independent applications or applications managed by different teams in the same repo. </p> </li> <li> <p><a href=https://github.com/redhat-developer/kam/tree/master/docs/journey/day1>Day 1 Operations</a> are actions that users take to bootstrap a GitOps configuration and on how to set up GitOps and Sealed Secrets.</p> </li> <li><a href=https://github.com/redhat-developer/kam/tree/master/docs/journey/day2>Day 2 Operations</a> are actions that users take to change a GitOps system.</li> </ul> <p>Using continuous delivery approach and tool like ArgoCD, the deployment of all the components is controlled by the tool from the Gitops repositories.</p> <h2 id=supporting-tools>Supporting tools<a class=headerlink href=#supporting-tools title="Permanent link">&para;</a></h2> <ul> <li><a href=https://github.com/redhat-developer/kam>KAM CLI from the Red Hat gitops team </a></li> <li><a href=../tekton/ >Tekton</a> for continuous integration and even deployment</li> <li><a href=#openshift-gitops>ArgoCD | Openshift Gitops</a> for continuous deployment</li> <li><a href=https://kustomize.io/ >Kustomize.io</a> to templatize the deployment and support overlay mechanisms.</li> <li><a href=#git-action>git Action</a> for continuous execution of development workflows right in your repository</li> </ul> <h2 id=git-action>Git Action<a class=headerlink href=#git-action title="Permanent link">&para;</a></h2> <p><a href=https://docs.github.com/en/actions>Git Action</a></p> <p>Configure github SECRETS for each project:</p> <ul> <li>DOCKER_REGISTRY quay.io</li> <li>DOCKER_REPOSITORY jbcodeforce</li> <li>DOCKER_USERNAME jbcodeforce</li> <li>DOCKER_PASSWORD</li> <li>DOCKER_IMAGE_NAME the name of the application</li> </ul> <p>Define a <code>.github/workflow/dockerbuild.yaml</code> to declare how to build the app.</p> <h2 id=openshift-gitops>OpenShift GitOps<a class=headerlink href=#openshift-gitops title="Permanent link">&para;</a></h2> <p><a href=https://docs.openshift.com/container-platform/4.7/cicd/gitops/understanding-openshift-gitops.html>OpenShift GitOps</a> is the operator and configuration to run ArgoCD, as a controller inside OpenShift.</p> <p>The environment configuration repository defines the desired state of the application/solution.</p> <p>Using OpenShift console &gt; Operator Hub, search for GitOps and select Red Hat OpenShift GitOps operator:</p> <p><img alt src=../images/rh-gitops-operator.png></p> <p>Then click install and use the default parameters.</p> <p>To do it via oc CLI, use the <a href>eda-gitops-catalog</a> gitops repository and the command:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>oc<span class=w> </span>apply<span class=w> </span>-k<span class=w> </span>openshift-gitops/operator/overlays/
</code></pre></div> <p>It can take some minutes to get it installed.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>oc<span class=w> </span>describe<span class=w> </span>operator<span class=w> </span>openshift-gitops-operator
</code></pre></div> <h3 id=proposed-git-repository-structure>Proposed git repository structure<a class=headerlink href=#proposed-git-repository-structure title="Permanent link">&para;</a></h3> <p>There are different ways to organize projects: The <a href=#kam-gitops-application-manager-cli>KAM tool</a> proposes to create one gitops repository to control the configuration and deployment of each services and apps of the solution.</p> <p>Another solution is to use a three repositories structure, that will match team structure and persona: dev, SRE.</p> <ul> <li><strong>application</strong>: deployment.yaml, config map... for each application. Developers lead this repository.</li> <li>shared, reusable <strong>services</strong> like Kafka, Database, LDAP,... as reusable services between environments: Dev and operations ownership</li> <li>Cluster and <strong>infrastructure</strong>: network, cluster, storage, policies... owned by operation</li> </ul> <p>With this three level structure, each "solution" will have 3 separate repositories:</p> <ul> <li>solution_name-gitops-apps</li> <li>solution_name-gitops-services</li> <li>solution_name-gitops-infra</li> </ul> <p>Now the different deployment environments can be using different k8s clusters or the same cluster with different namespaces.</p> <p>With the adoption of ArgoCD, developer can have one bootstrap app that starts other apps and monitor each of those layers.</p> <p>See detail in <a href=../argocd/ >this separate note</a>.</p> <h3 id=openshift-projects>OpenShift Projects<a class=headerlink href=#openshift-projects title="Permanent link">&para;</a></h3> <p>For each solution we may use a number of different projects: </p> <ul> <li>one solutionname-cicd for Tekton pipeline run... </li> <li>one solutionname-dev for the application instances in a development mode.</li> <li>one solutionname-staging for pre-production tests</li> <li>one solutionname-prod for production deployment. This can be in the same OCP cluster or in different one.</li> </ul> <p>Within the <code>-dev</code> project we can isolate the dependant applications, like Kafka cluster, or postgresql, where with Staging and production we can use multi-tenant deployment of such applications.</p> <p>The KAM tool supports this approach.</p> <h3 id=services>Services<a class=headerlink href=#services title="Permanent link">&para;</a></h3> <p>For the Service level, try to adopt catalog repositories to hold common elements that will be re-used across teams and across other repositories. See example in <a href=https://github.com/redhat-canada-gitops/catalog>Red Hat Canada Catalog git repo</a> and our <a href=https://github.com/jbcodeforce/dba-gitops-catalog>Business automation</a> or <a href=https://github.com/jbcodeforce/eda-gitops-catalog>EDA catalogs</a>. </p> <p>Use Kustomization to reference remote repositories as a base and then patch it as needed to meet your specific requirements.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=nt>bases</span><span class=p>:</span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=w> </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">github.com/ibm-cloud-architecture/eda-gitops-catalog/kafka-strimzi/operator/overlay/stable?ref=main</span>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=w> </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">../base</span>
</code></pre></div> <p>Reference the common repository via a tag or commit ID.</p> <h3 id=application>Application<a class=headerlink href=#application title="Permanent link">&para;</a></h3> <p>For Application repositories, align your repositories along application and team boundaries: one gitops repo per application, different folders for microservices and deployable components. </p> <p>Use bootstrap folder to load the application components into the cluster: this will be an ArdoCD app.</p> <p>Use Overlay for the different app configuration depending of the target environment.</p> <p>Dedicated a folder (tekton) for pipelines, tasks.</p> <p>If you find you are duplicating argoCD manifests in the bootstrap folder, then create a separate high level <code>argocd</code> folder.</p> <ul> <li><a href=https://github.com/gnunn-gitops/cluster-config>Cluster Configuration</a>. This repo shows how Gerald Nunn configures OpenShift clusters using GitOps with ArgoCD.</li> <li><a href=https://github.com/gnunn-gitops/product-catalog>Product Catalog</a> example of a 3 tier app with ArgoCD, tekton and kustomize. (From Gerald Nunn )</li> <li><a href=https://github.com/ibm-cloud-architecture/rt-inventory-gitops>real time inventory demo gitops</a></li> <li><a href>ADS GitOps example for a risk scoring app</a></li> </ul> <h3 id=process>Process<a class=headerlink href=#process title="Permanent link">&para;</a></h3> <p>A key question in any gitops scenario is, how to manage promotion of changes in manifests between different environments and clusters. </p> <p>Some principles to observe:</p> <ul> <li>Every change in the manifests needs to flow through the environments in hierarchical order, i.e. (dev &gt; test &gt; prod)</li> <li>We do not want a change to the base flowing to all environments simultaneously</li> <li>Tie specific environments to specific revisions so that changes in the repo can be promoted in a controlled manner We can manage the revision in the gitops tools or in kustomize or both.</li> </ul> <h3 id=the-pre-and-post-synch-processing>The pre and post synch processing<a class=headerlink href=#the-pre-and-post-synch-processing title="Permanent link">&para;</a></h3> <p>When Argo CD starts a sync, it orders the resources in the following precedence:</p> <ul> <li>The phase (See <a href=https://argoproj.github.io/argo-cd/user-guide/resource_hooks/ >resource hook doc</a>)</li> <li> <p>The wave they are in (lower values first). Defined as annotations in the different resources </p> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=nt>metadata</span><span class=p>:</span>
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span>
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=w>    </span><span class=nt>argocd.argoproj.io/sync-wave</span><span class=p>:</span><span class=w> </span><span class=s>&quot;5&quot;</span>
</code></pre></div> </li> <li> <p>By kind (e.g. namespaces first)</p> </li> <li>By name</li> </ul> <p>It then determines the number of the next wave to apply. This is the first number where any resource is out-of-sync or unhealthy.</p> <h2 id=openshift-pipelines>OpenShift Pipelines<a class=headerlink href=#openshift-pipelines title="Permanent link">&para;</a></h2> <p>OpenShift Pipelines is a Continuous Integration / Continuous Delivery (CI/CD) solution based on the open source Tekton project. The key objective of Tekton is to enable development teams to quickly create pipelines of activity from simple, repeatable steps. A unique characteristic of Tekton that differentiates it from previous CI/CD solutions is that Tekton steps execute within a container that is specifically created just for that task.</p> <p>Users can interact with OpenShift Pipelines using the web user interface, command line interface, and via a Visual Studio Code editor plugin. The command line access is a mixture of the OpenShift <code>oc</code> command line utility and the <code>tkn</code> command line for specific Tekton commands. The <code>tkn</code> and <code>oc</code> command line utilities can be downloaded from the OpenShift console web user interface. To do this, simply press the white circle containing a black question mark near your name on the top right corner and then select Command Line Tools:</p> <p><img alt="CLI tools" src=../images/clitools.jpg></p> <p>See more detail in this <a href=../tekton/ >Tekton summary</a></p> <h2 id=kustomize-and-gitops>Kustomize and gitops<a class=headerlink href=#kustomize-and-gitops title="Permanent link">&para;</a></h2> <p>There are two ways to implement the deployment strategy for GitOps: </p> <ul> <li><strong>Push-based:</strong> use CI/CD tools like Jenkins, Tekton, Travis... to define a pipeline, triggered when application code source is updated. Pipelines build the container image and deploy the modified yaml files to the GitOps repo. Changes to the environment configuration repository trigger the deployment pipeline. It has to be used for running an automated provisioning of cloud infrastructure. See also <a href=https://cloud.google.com/kubernetes-engine/docs/tutorials/gitops-cloud-build>this k8s engine 'cloud build' tutorial</a>.</li> <li><strong>Pull-based:</strong> An operator takes over the role of the pipeline by continuously comparing the desired state in the environment repository with the actual state in the deployed infrastructure.</li> </ul> <p>A CI/CD based on git action will build the image and edit Kustomize patch to bump the expected container tag using the new docker image tag, then will commit this changes to the gitops repo.</p> <p><a href=https://kustomize.io/ >Kustomize</a> is used to simplify the configuration of application and environment. Kustomize traverses a Kubernetes manifest to add, remove or update configuration options without forking. It is available both as a standalone binary and as a native feature of Kubectl. A <a href=https://github.com/kubernetes-sigs/kustomize/tree/master/examples>lot of Kustomize examples here.</a>.</p> <p>The simple way to organize the configuration is to use one <code>kustomize</code> folder, then one folder per component, then one overlay folder in which environment folder include <code>kustomization.yaml</code> file with patches.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a> postgres
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>     base
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>      configmap.yaml
<a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>      kustomization.yaml
<a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>      pvc.yaml
<a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>      secret.yaml
<a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a>      service-account.yaml
<a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a>      statefulset.yaml
<a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a>      svc-headless.yaml
<a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a>      svc.yaml
<a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a>     kustomization.yaml
<a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a>     overlays
<a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a>         dev
<a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a>             kustomization.yaml
<a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a>             sealedsecret.yaml
</code></pre></div> <p>Here is an example of <code>kustomization.yaml</code>:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>bases:
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>  - ../../base
<a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>patchesStrategicMerge:
<a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>  - ./secret.yaml
</code></pre></div> <p>The <code>patchesStrategicMerge</code> lists the resource configuration YAML files that you want to merge to the base kustomization. You must also add these files to the same repo as the kustomization file, such as <code>overlay/dev</code>. These resource configuration files can contain small changes that are merged to the base configuration files of the same name as a patch.</p> <p>In GitOps, the pipeline does not finish with something like <code>oc apply..</code>. but its an external tool (<a href=../argocd/ >Argo CD</a> or Flux) that detects the drift in the Git repository and will run these commands.</p> <h3 id=future-readings>Future readings<a class=headerlink href=#future-readings title="Permanent link">&para;</a></h3> <ul> <li><a href=https://www.weave.works/blog/gitops-operations-by-pull-request>GitOps - Operations by Pull Request</a></li> </ul> <h2 id=kam-gitops-application-manager-cli><strong>KAM</strong> - Gitops Application Manager CLI<a class=headerlink href=#kam-gitops-application-manager-cli title="Permanent link">&para;</a></h2> <p><a href=https://github.com/redhat-developer/kam>KAM</a>'s goal is to help creating a GitOps project for an existing application as <a href=https://github.com/redhat-developer/kam/tree/master/docs/journey/day1>day 1 operations</a> and then add more services as part of <code>day 2 operation</code>.</p> <p>GitOps approach is to manage deployments into one or more environments (a namespace in a Kubernetes). One or more applications can be deployed into a given environment. An application is an aggregation of one or more services. The source code for each service (or microservice) is contained within a single Git repository</p> <ul> <li>To install download the last release from github: <a href=https://github.com/redhat-developer/kam/releases/latest>https://github.com/redhat-developer/kam/releases/latest</a>. Rename the download file, and move it to <code>/usr/local/bin</code>.</li> </ul> <h3 id=pre-requisites>Pre-requisites<a class=headerlink href=#pre-requisites title="Permanent link">&para;</a></h3> <p>Have the OpenShift GitOps and OpenShift Pipelines operators installed.</p> <p>Be connected to the cluster.</p> <h3 id=creating-a-gitops-project-for-a-given-solution>Creating a GitOps project for a given solution<a class=headerlink href=#creating-a-gitops-project-for-a-given-solution title="Permanent link">&para;</a></h3> <p>Use the following <code>kam</code> command to create a gitops repository with multiple ArgoCD applications. To run successfully, we need to be connected to OpenShift cluster with Sealed Secret, GitOps and Pipelines operators deployed, get SSH key from github if repositories are used:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=c1># list the  available options</span>
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>kam<span class=w> </span>bootstrap<span class=w> </span>--<span class=w> </span>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=c1># create a gitops repo by specifying argument</span>
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a>kam<span class=w> </span>bootstrap<span class=w> </span><span class=se>\</span>
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a>--service-repo-url<span class=w> </span>https://github.com/jbcodeforce/refarch-eda-store-inventory<span class=w> </span><span class=se>\</span>
<a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a>--gitops-repo-url<span class=w>  </span>https://github.com/jbcodeforce/rt-inventory-gitops<span class=w> </span><span class=se>\</span>
<a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a>--image-repo<span class=w> </span>image-registry.openshift-image-registry.svc:5000/ibmcase/store-aggregator<span class=w> </span><span class=se>\</span>
<a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a>--output<span class=w> </span>rt-inventory-gitops<span class=w> </span><span class=se>\</span>
<a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a>--git-host-access-token<span class=w> </span>&lt;a-github-token&gt;<span class=w> </span><span class=se>\</span>
<a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a>--prefix<span class=w> </span>rt-inventory<span class=w> </span>--push-to-git<span class=o>=</span><span class=nb>true</span>
</code></pre></div> <p>To retrieve the github access token <a href=https://github.com/redhat-developer/kam/blob/master/docs/journey/day1/prerequisites/github_access_token_steps.md>see this note</a>.</p> <blockquote> <p><strong>Kam bug:</strong> the application name is matching the git repo name, and there will be an issue while creating binding with the limit of the number of characters. kam bootstrap needs a --service-name argument.</p> </blockquote> <p>This will create a GitOps project, push to github.com as private repo. The repo includes two main folders and a <code>pipelines.yaml</code> describing your first application, and the configuration for a complete CI pipeline and deployments from Argo CD.</p> <p>At the same level of the folder hierarchy, there is a secrets folder to keep secrets to do not commit to Git. See <a href=#secrets>secrets section below</a>.</p> <h3 id=what-is-inside>What is inside<a class=headerlink href=#what-is-inside title="Permanent link">&para;</a></h3> <h4 id=config>Config<a class=headerlink href=#config title="Permanent link">&para;</a></h4> <p>The <code>config</code> folder defines <code>argocd</code> and <code>cicd</code> Argo applications to support deployment and pipeline definitions:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=w>  </span><span class=w> </span>config
<a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=w>  </span><span class=w>   </span><span class=w> </span>argocd
<a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=w>  </span><span class=w>   </span><span class=w>   </span><span class=w> </span>argo-app.yaml
<a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=w>  </span><span class=w>   </span><span class=w>   </span><span class=w> </span>cicd-app.yaml
<a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a><span class=w>  </span><span class=w>   </span><span class=w>   </span><span class=w> </span>kustomization.yaml
<a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=w>  </span><span class=w>   </span><span class=w>   </span><span class=w> </span>rt-inventory-dev-app-refarch-eda-store-inventory-app.yaml
<a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a><span class=w>  </span><span class=w>   </span><span class=w>   </span><span class=w> </span>rt-inventory-dev-env-app.yaml
<a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a><span class=w>  </span><span class=w>   </span><span class=w>   </span><span class=w> </span>rt-inventory-stage-env-app.yaml
<a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a><span class=w>  </span><span class=w>   </span><span class=w> </span>rt-inventory-cicd
<a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a><span class=w>  </span><span class=w>       </span><span class=w> </span>base
<a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a><span class=w>  </span><span class=w>       </span><span class=w>   </span><span class=w> </span><span class=m>01</span>-namespaces
<a id=__codelineno-7-12 name=__codelineno-7-12 href=#__codelineno-7-12></a><span class=w>  </span><span class=w>       </span><span class=w>   </span><span class=w>   </span><span class=w> </span>cicd-environment.yaml
<a id=__codelineno-7-13 name=__codelineno-7-13 href=#__codelineno-7-13></a><span class=w>  </span><span class=w>       </span><span class=w>   </span><span class=w> </span><span class=m>02</span>-rolebindings
<a id=__codelineno-7-14 name=__codelineno-7-14 href=#__codelineno-7-14></a><span class=w>  </span><span class=w>       </span><span class=w>   </span><span class=w>   </span><span class=w> </span>argocd-admin.yaml
<a id=__codelineno-7-15 name=__codelineno-7-15 href=#__codelineno-7-15></a><span class=w>  </span><span class=w>       </span><span class=w>   </span><span class=w>   </span><span class=w> </span>pipeline-service-account.yaml
<a id=__codelineno-7-16 name=__codelineno-7-16 href=#__codelineno-7-16></a><span class=w>  </span><span class=w>       </span><span class=w>   </span><span class=w>   </span><span class=w> </span>pipeline-service-role.yaml
<a id=__codelineno-7-17 name=__codelineno-7-17 href=#__codelineno-7-17></a><span class=w>  </span><span class=w>       </span><span class=w>   </span><span class=w>   </span><span class=w> </span>pipeline-service-rolebinding.yaml
<a id=__codelineno-7-18 name=__codelineno-7-18 href=#__codelineno-7-18></a><span class=w>  </span><span class=w>     </span><span class=w> </span><span class=w> </span><span class=m>03</span>-tasks
<a id=__codelineno-7-19 name=__codelineno-7-19 href=#__codelineno-7-19></a><span class=w>  </span><span class=w>     </span><span class=w> </span><span class=w> </span><span class=w> </span>deploy-from-source-task.yaml
<a id=__codelineno-7-20 name=__codelineno-7-20 href=#__codelineno-7-20></a><span class=w>  </span><span class=w>     </span><span class=w> </span><span class=w> </span><span class=w> </span>set-commit-status-task.yaml
<a id=__codelineno-7-21 name=__codelineno-7-21 href=#__codelineno-7-21></a><span class=w>  </span><span class=w>      </span><span class=w> </span><span class=w> </span><span class=m>04</span>-pipelines
<a id=__codelineno-7-22 name=__codelineno-7-22 href=#__codelineno-7-22></a><span class=w>  </span><span class=w>     </span><span class=w> </span><span class=w> </span><span class=w> </span>app-ci-pipeline.yaml
<a id=__codelineno-7-23 name=__codelineno-7-23 href=#__codelineno-7-23></a><span class=w>  </span><span class=w>     </span><span class=w> </span><span class=w> </span><span class=w> </span>ci-dryrun-from-push-pipeline.yaml
<a id=__codelineno-7-24 name=__codelineno-7-24 href=#__codelineno-7-24></a><span class=w>  </span><span class=w>     </span><span class=w> </span><span class=w> </span><span class=m>05</span>-bindings
<a id=__codelineno-7-25 name=__codelineno-7-25 href=#__codelineno-7-25></a><span class=w>  </span><span class=w>     </span><span class=w> </span><span class=w> </span><span class=w> </span>github-push-binding.yaml
<a id=__codelineno-7-26 name=__codelineno-7-26 href=#__codelineno-7-26></a><span class=w>  </span><span class=w>     </span><span class=w> </span><span class=w> </span><span class=w> </span>rt-inventory-dev-app-refarch-eda-store-simulator
<a id=__codelineno-7-27 name=__codelineno-7-27 href=#__codelineno-7-27></a><span class=w>                  </span><span class=w> </span>refarch-eda-store-simulator-binding.yaml
<a id=__codelineno-7-28 name=__codelineno-7-28 href=#__codelineno-7-28></a><span class=w>  </span><span class=w>     </span><span class=w> </span><span class=w> </span><span class=m>06</span>-templates
<a id=__codelineno-7-29 name=__codelineno-7-29 href=#__codelineno-7-29></a><span class=w>  </span><span class=w>     </span><span class=w> </span><span class=w> </span><span class=w> </span>app-ci-build-from-push-template.yaml
<a id=__codelineno-7-30 name=__codelineno-7-30 href=#__codelineno-7-30></a><span class=w>  </span><span class=w>     </span><span class=w> </span><span class=w> </span><span class=w> </span>ci-dryrun-from-push-template.yaml
<a id=__codelineno-7-31 name=__codelineno-7-31 href=#__codelineno-7-31></a><span class=w>  </span><span class=w>     </span><span class=w> </span><span class=w> </span><span class=m>07</span>-eventlisteners
<a id=__codelineno-7-32 name=__codelineno-7-32 href=#__codelineno-7-32></a><span class=w>  </span><span class=w>     </span><span class=w> </span><span class=w> </span><span class=w> </span>cicd-event-listener.yaml
<a id=__codelineno-7-33 name=__codelineno-7-33 href=#__codelineno-7-33></a><span class=w>  </span><span class=w>     </span><span class=w> </span><span class=w> </span><span class=m>08</span>-routes
<a id=__codelineno-7-34 name=__codelineno-7-34 href=#__codelineno-7-34></a><span class=w>  </span><span class=w>     </span><span class=w> </span><span class=w> </span><span class=w> </span>gitops-webhook-event-listener.yaml
<a id=__codelineno-7-35 name=__codelineno-7-35 href=#__codelineno-7-35></a><span class=w>  </span><span class=w>       </span><span class=w>   </span><span class=w> </span>kustomization.yaml
<a id=__codelineno-7-36 name=__codelineno-7-36 href=#__codelineno-7-36></a><span class=w>  </span><span class=w>       </span><span class=w> </span>overlays
<a id=__codelineno-7-37 name=__codelineno-7-37 href=#__codelineno-7-37></a><span class=w>  </span><span class=w>           </span><span class=w> </span>kustomization.yaml
</code></pre></div> <p>The major elements of this configuration are:</p> <ul> <li><strong>argo-app</strong>: root application to manage the other applications: It points to the kustomization.yaml under <code>config/argocd</code> so when adding new microservice to the solution using <code>kam cli</code> then this kustomize will be updated triggering a new argo app to be created <ul> <li>argo-app.yaml</li> <li>cicd-app.yaml</li> <li>rt-inventory-dev-app-refarch-eda-store-simulator-app.yaml</li> <li>rt-inventory-dev-env-app.yaml</li> <li>rt-inventory-stage-env-app.yaml</li> </ul> </li> <li><strong>cicd-app</strong>: Argo app to monitor <code>config/rt-inventory-cicd/overlays</code> which defines <code>-cicd</code> namespace, <code>pipeline</code> service account, then role bindings. And it also defines Tekton tasks, pipelines, triggers... This is where developers can add new tasks and pipelines for their applications.</li> <li><strong>rt-inventory-dev-env-app</strong>: Argo app to monitor <code>environments/rt-inventory-dev/env/overlays</code> which defines the NameSpace, Service Account, RoleBindings, for a <code>dev</code> environment. </li> <li><strong>rt-inventory-dev-app-refarch-eda-store-simulator</strong>: Argo app to monitor <code>environments/rt-inventory-dev/apps/app-refarch-eda-store-simulator/overlays</code> to deploy a specific app</li> </ul> <h4 id=environment>Environment<a class=headerlink href=#environment title="Permanent link">&para;</a></h4> <p><code>environment</code> includes two environment definitions for <code>dev</code> and <code>stage</code>. For each environment the <code>apps</code> folder includes the deployment of all the apps part of the solution and then a <code>env</code> folder to define the dev namespace, role bindings... </p> <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=w>    </span>environments
<a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=w>  </span><span class=w>   </span><span class=w> </span>rt-inventory-dev
<a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=w>  </span><span class=w>   </span><span class=w>   </span><span class=w> </span>apps
<a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=w>  </span><span class=w>   </span><span class=w>   </span><span class=w>   </span><span class=w> </span>app-refarch-eda-store-inventory
<a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=w>                </span>.....<span class=w> </span>SEE<span class=w> </span>BELOW
<a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a><span class=w>  </span><span class=w>   </span><span class=w>   </span><span class=w> </span>env
<a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a><span class=w>  </span><span class=w>   </span><span class=w>       </span><span class=w> </span>base
<a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a><span class=w>  </span><span class=w>   </span><span class=w>       </span><span class=w>   </span><span class=w> </span>argocd-admin.yaml
<a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a><span class=w>  </span><span class=w>   </span><span class=w>       </span><span class=w>   </span><span class=w> </span>kustomization.yaml
<a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a><span class=w>  </span><span class=w>   </span><span class=w>       </span><span class=w>   </span><span class=w> </span>my-inventory-dev-environment.yaml
<a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a><span class=w>  </span><span class=w>   </span><span class=w>       </span><span class=w>   </span><span class=w> </span>my-inventory-dev-rolebinding.yaml
<a id=__codelineno-8-12 name=__codelineno-8-12 href=#__codelineno-8-12></a><span class=w>  </span><span class=w>   </span><span class=w>       </span><span class=w> </span>overlays
<a id=__codelineno-8-13 name=__codelineno-8-13 href=#__codelineno-8-13></a><span class=w>  </span><span class=w>   </span><span class=w>           </span><span class=w> </span>kustomization.yaml
<a id=__codelineno-8-14 name=__codelineno-8-14 href=#__codelineno-8-14></a><span class=w>  </span><span class=w>   </span><span class=w> </span>rt-inventory-stage
<a id=__codelineno-8-15 name=__codelineno-8-15 href=#__codelineno-8-15></a><span class=w>  </span><span class=w>       </span><span class=w> </span>env
<a id=__codelineno-8-16 name=__codelineno-8-16 href=#__codelineno-8-16></a><span class=w>  </span><span class=w>           </span><span class=w> </span>base
<a id=__codelineno-8-17 name=__codelineno-8-17 href=#__codelineno-8-17></a><span class=w>  </span><span class=w>           </span><span class=w>   </span><span class=w> </span>argocd-admin.yaml
<a id=__codelineno-8-18 name=__codelineno-8-18 href=#__codelineno-8-18></a><span class=w>  </span><span class=w>           </span><span class=w>   </span><span class=w> </span>kustomization.yaml
<a id=__codelineno-8-19 name=__codelineno-8-19 href=#__codelineno-8-19></a><span class=w>  </span><span class=w>           </span><span class=w>   </span><span class=w> </span>rt-inventory-stage-environment.yaml
<a id=__codelineno-8-20 name=__codelineno-8-20 href=#__codelineno-8-20></a><span class=w>  </span><span class=w>           </span><span class=w>   </span>
<a id=__codelineno-8-21 name=__codelineno-8-21 href=#__codelineno-8-21></a><span class=w>  </span><span class=w>           </span><span class=w> </span>overlays
<a id=__codelineno-8-22 name=__codelineno-8-22 href=#__codelineno-8-22></a><span class=w>  </span><span class=w>               </span><span class=w> </span>kustomization.yaml
</code></pre></div> <p>In an <code>apps</code> folder the <code>services/${app-name-here}/base/config</code> defines the manifests to configure the application. This is where we can put you app specific configuration.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a>  rt-inventory-dev
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>   apps
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>    app-refarch-eda-store-simulator
<a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a>        base
<a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a>         kustomization.yaml
<a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a>        kustomization.yaml
<a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a>        overlays
<a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a>         kustomization.yaml
<a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a>        services
<a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a>            refarch-eda-store-simulator
<a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a>                base
<a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a>                 config
<a id=__codelineno-9-13 name=__codelineno-9-13 href=#__codelineno-9-13></a>                  100-deployment.yaml
<a id=__codelineno-9-14 name=__codelineno-9-14 href=#__codelineno-9-14></a>                  200-service.yaml
<a id=__codelineno-9-15 name=__codelineno-9-15 href=#__codelineno-9-15></a>                  300-route.yaml
<a id=__codelineno-9-16 name=__codelineno-9-16 href=#__codelineno-9-16></a>                  kustomization.yaml
<a id=__codelineno-9-17 name=__codelineno-9-17 href=#__codelineno-9-17></a>                 kustomization.yaml
<a id=__codelineno-9-18 name=__codelineno-9-18 href=#__codelineno-9-18></a>                kustomization.yaml
<a id=__codelineno-9-19 name=__codelineno-9-19 href=#__codelineno-9-19></a>                overlays
<a id=__codelineno-9-20 name=__codelineno-9-20 href=#__codelineno-9-20></a>                    kustomization.yaml
</code></pre></div> <blockquote> <p>Attention! if a service is used between multiple applications, ( for exmaple Kafka), then we need to add under the <code>environments/....-dev/</code> folder a <code>services</code> folder to declare such services. To see an example of this approach go to <a href=https://github.com/ibm-cloud-architecture/store-mq-gitops/tree/main/environments/smq-dev/apps/services>this repo</a>.</p> </blockquote> <h3 id=secrets>Secrets<a class=headerlink href=#secrets title="Permanent link">&para;</a></h3> <p>At the same level as the GitOps folder created by <code>kam</code>, there is a <code>secrets</code> folder to be used to manage secrets without getting them into git.</p> <p>The approach is to use <a href=https://engineering.bitnami.com/articles/sealed-secrets.html>Bitmani Sealed Secret</a> operators to deploy a server on OpenShift to decrypt in the final format, encoded sealed secrets to a kubernetes secret into target namespace.</p> <p><em>Sealed Secrets are a "one-way" encrypted Secret that can be created by anyone, but can only be decrypted by the controller running in the target cluster.</em></p> <p>It needs kubeseal CLI on the client side to do encryption that only the controller can decrypt.</p> <ul> <li>Install the Sealed Secret Operator in <code>sealed-secrets</code> project</li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=c1># Under one of the catalog repo: eda or dba</span>
<a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>oc<span class=w> </span>apply<span class=w> </span>-k<span class=w> </span>sealed-secrets-operator/overlays/default
</code></pre></div> <ul> <li>Create a Sealed secret controller: for example <code>sealed-secrets-controller</code>. The previous command will create it.</li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a>oc<span class=w> </span>get<span class=w> </span>pods<span class=w> </span>-n<span class=w> </span>sealed-secrets
<a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a>NAME<span class=w>                                       </span>READY<span class=w>   </span>STATUS<span class=w>    </span>RESTARTS<span class=w>   </span>AGE
<a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>sealed-secrets-controller-8dd96b4d-4zq2b<span class=w>   </span><span class=m>1</span>/1<span class=w>     </span>Running<span class=w>   </span><span class=m>0</span><span class=w>          </span>4m39s
</code></pre></div> <ul> <li>Then for each secrets in <code>secrets</code> folder do something like:</li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a>cat<span class=w> </span>gitops-webhook-secret.yaml<span class=p>|</span><span class=w> </span>kubeseal<span class=w> </span>--controller-namespace<span class=w> </span>sealed-secrets<span class=w> </span><span class=se>\</span>
<a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a>--controller-name<span class=w> </span>sealed-secrets-controller<span class=w> </span>--format<span class=w> </span>yaml<span class=w> </span>&gt;gitops-webhook-sealedsecret.yaml
<a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a><span class=c1>#</span>
<a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a>cat<span class=w> </span>git-host-access-token.yaml<span class=w> </span><span class=p>|</span><span class=w> </span>kubeseal<span class=w> </span>--controller-namespace<span class=w> </span>sealed-secrets<span class=w> </span><span class=se>\</span>
<a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a>--controller-name<span class=w> </span>sealed-secrets-controller<span class=w> </span>--format<span class=w> </span>yaml<span class=w> </span>&gt;<span class=w> </span>git-host-access-token-sealedsecret.yaml
<a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a><span class=c1># </span>
<a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a>cat<span class=w> </span>docker-config.yaml<span class=w> </span><span class=p>|</span><span class=w> </span>kubeseal<span class=w> </span>--controller-namespace<span class=w> </span>sealed-secrets<span class=w> </span><span class=se>\</span>
<a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a>--controller-name<span class=w> </span>sealed-secrets-controller<span class=w> </span>--format<span class=w> </span>yaml<span class=w> </span>&gt;<span class=w> </span>docker-config-sealedsecret.yaml<span class=w> </span>
<a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a><span class=c1># </span>
<a id=__codelineno-12-10 name=__codelineno-12-10 href=#__codelineno-12-10></a>cat<span class=w> </span>git-host-basic-auth-token.yaml<span class=w> </span><span class=p>|</span><span class=w> </span>kubeseal<span class=w> </span>--controller-namespace<span class=w> </span>sealed-secrets<span class=w> </span><span class=se>\</span>
<a id=__codelineno-12-11 name=__codelineno-12-11 href=#__codelineno-12-11></a>--controller-name<span class=w> </span>sealed-secrets-controller<span class=w> </span>--format<span class=w> </span>yaml<span class=w> </span>&gt;<span class=w> </span>git-host-basic-auth-token-sealed.yaml
<a id=__codelineno-12-12 name=__codelineno-12-12 href=#__codelineno-12-12></a><span class=c1># then continue with any microservice webhook secret </span>
</code></pre></div> <p>Each sealed secret can be in uploaded to github, and applied to different k8s namespace.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=c1># mv all the sealed.yaml to config/...-cicd/base/09-secrets folder</span>
<a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a><span class=c1># in secrets folder</span>
<a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a>mv<span class=w> </span>*-sealed.yaml<span class=w> </span>../*gitops/config/
<a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a>
<a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a>oc<span class=w> </span>apply<span class=w> </span>-f<span class=w> </span>gitops-webhook-sealedsecret.yaml
<a id=__codelineno-13-6 name=__codelineno-13-6 href=#__codelineno-13-6></a><span class=c1># this should create a k8s secret</span>
</code></pre></div> <p><em>ERROR: giving up: no key could decrypt secret (.dockerconfigjson)</em></p> <h3 id=what-to-do-from-there>What to do from there<a class=headerlink href=#what-to-do-from-there title="Permanent link">&para;</a></h3> <ol> <li>Assess if you need the Pipeline or not (for example when defining a demo environment with public docker images we do not need Pipeline). If you do not use Pipeline, comment in the <code>config/argocd/kustomization.yaml</code> the call to <code>cicd-app.yaml</code>. </li> <li>Assess if you need <code>stage</code> environment. For demo one environment is needed.</li> <li>Change the <code>environments/&lt;&gt;-dev/apps/app-&lt;appname&gt;/services/&lt;appname&gt;/base/config</code> file with the kustomization files of your application.</li> <li> <p>Add any cross microservice/application dependent services under a new structure per environment. Ex</p> <div class=highlight><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a>environments/&lt;&gt;-dev/services/kafka-strimzi/
</code></pre></div> </li> <li> <p>Create a <code>bootstrap</code> folder and add the declaration for the ArgoCD project to avoid using <code>default</code> project. See example in <a href=https://github.com/ibm-cloud-architecture/store-mq-gitops/tree/main/bootstrap/argocd-project>this repo</a>.</p> </li> <li> <p>Bring up the Argocd app of app by doing: <code>oc apply -k config/argocd/</code>, which will create:</p> <ul> <li>three Argo applications to monitor CI/CD, Dev and Staging environments: rt-inventory-cicd, rt-inventory-dev, rt-inventory-stage</li> <li>One Argo Application per service to deploy: the following figure has only one of such service. <img alt src=../images/argo-rt-inv.png></li> <li>Three OpensShift projects: one for cicd, one per target 'environments' (dev, stage)</li> </ul> <blockquote> <p>depending of the OCP version, there may be issue regarding <code>controller user</code> being able to create resource. To enable full cluster admin access on OpenShift, run the following command: </p> </blockquote> <div class=highlight><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a>oc<span class=w> </span>adm<span class=w> </span>policy<span class=w> </span>add-cluster-role-to-user<span class=w> </span>cluster-admin<span class=w> </span>-z<span class=w> </span>argocd-application-co<span class=w> </span>
</code></pre></div> </li> <li> <p>Part of the configuration bootstraps a simple <code>OpenShift Pipelines</code> pipeline for building code when a pull-request is opened.</p> </li> <li> <p>Add new microservices using command like:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a>kam<span class=w> </span>service<span class=w> </span>add<span class=w> </span>--git-repo-url<span class=w> </span>https://github.com/jbcodefoce/new-service.git<span class=w> </span>--app-name<span class=w> </span>newservicename<span class=w>  </span>--env-name<span class=w> </span>stage<span class=w>  </span>--image-repo<span class=w> </span>quay.io/jbcodefoce/new-service<span class=w> </span>--service-name<span class=w> </span>new-service
</code></pre></div> <blockquote> <p>Attention there is an issue with KAM as it will overwrite any update in previously generated file, so for example bringing the project name back to default. We need to tunes the pipelines.yaml file</p> </blockquote> <p>For each service, an unencrypted secret will be generated into the secrets folder. Make sure to apply these secrets to the cluster.</p> </li> <li> <p>Add a webhook to each microservice repository to connect to the Pipeline event listener.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=c1># Get the event listener route end point</span>
<a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a>oc<span class=w> </span>get<span class=w> </span>route<span class=w> </span>--namespace<span class=w> </span>rt-inventory-cicd
</code></pre></div> <p>Then in the application github repository do the following:</p> <ul> <li>Add a secret with the same password as the created by kam: something like <code>webhook-secret-rt-inventory-dev-refarch-eda-store-simulator</code>. </li> </ul> <p><div class=highlight><pre><span></span><code><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=w> </span>oc<span class=w> </span>get<span class=w> </span>secret<span class=w>  </span>webhook-secret-rt-inventory-dev-refarch-eda-store-simulator<span class=w> </span>-o<span class=w> </span><span class=nv>jsonpath</span><span class=o>=</span><span class=s1>&#39;{.data.webhook-secret-key}&#39;</span><span class=w> </span><span class=p>|</span><span class=w> </span>base64
</code></pre></div> * use, &gt; Settings &gt; Webhook &gt; add new webhook, copy this address with <code>http://</code> prefix. Try to do a new push to see if the event is sent to the listener. If so a new pipeline is started visible in the <code>Pipelines</code> menu on OpenShift console.</p> </li> </ol> <h2 id=future-readings_1>Future readings<a class=headerlink href=#future-readings_1 title="Permanent link">&para;</a></h2> <ul> <li><a href=https://docs.openshift.com/container-platform/4.8/cicd/pipelines/creating-applications-with-cicd-pipelines.html>Creating CI/CD solutions for applications using OpenShift Pipelines (4.8)</a></li> <li><a href=https://github.com/openshift/pipelines-tutorial>OpenShift pipeline tutorial</a></li> <li><a href=https://docs.github.com/en/developers/webhooks-and-events/webhooks/creating-webhooks>Github create webhooks</a></li> </ul> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../git/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Git summary"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Git summary </div> </div> </a> <a href=../tekton/ class="md-footer__link md-footer__link--next" aria-label="Next: Tekton"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Tekton </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2018 - 2024 Jerome Boyer </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/jbcodeforce target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://linkedin.com/in/jeromeboyer target=_blank rel=noopener title=linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> <a href target=_blank rel=noopener title class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480v-83.6c0-4 1.5-7.8 4.2-10.8l167.6-182.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8l-88.3-44.2C7.1 311.3.3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "../..", "features": ["content.code.annotate", "content.code.copy", "content.tooltips", "search.highlight", "navigation.instant", "navigation.instant.progress", "navigation.tabs", "navigation.instant", "navigation.tabs.sticky", "navigation.tracking", "navigation.footer", "navigation.tabs.sticky", "navigation.top"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.525ec568.min.js></script> </body> </html>