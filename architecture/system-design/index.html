<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Knowledge acquisition personal's notes, blog drafts"><link href=https://jeromeboyer.net/architecture/system-design/ rel=canonical><link href=../../leadership/first-90-days/ rel=prev><link href=../tcpip/ rel=next><link rel=icon href=../../images/logo-blue.drawio.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.5.39"><title>Conduct System Design - Jerome Boyer's Personal Site</title><link rel=stylesheet href=../../assets/stylesheets/main.8c3ca2c6.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#conduct-system-design class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Jerome Boyer's Personal Site" class="md-header__button md-logo" aria-label="Jerome Boyer's Personal Site" data-md-component=logo> <img src=../../images/logo.drawio.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Jerome Boyer's Personal Site </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Conduct System Design </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/jbcodeforce/jbcodeforce.github.io/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../about/ class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../coding/playground/ class=md-tabs__link> Coding </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../blogs/consultant-job/ class=md-tabs__link> Knowledge base </a> </li> <li class=md-tabs__item> <a href=../../techno/apicurio/ class=md-tabs__link> Techno </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Jerome Boyer's Personal Site" class="md-nav__button md-logo" aria-label="Jerome Boyer's Personal Site" data-md-component=logo> <img src=../../images/logo.drawio.png alt=logo> </a> Jerome Boyer's Personal Site </label> <div class=md-nav__source> <a href=https://github.com/jbcodeforce/jbcodeforce.github.io/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1 id=__nav_1_label tabindex=0> <span class=md-ellipsis> Home </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../about/ class=md-nav__link> <span class=md-ellipsis> About </span> </a> </li> <li class=md-nav__item> <a href=../../skills/ class=md-nav__link> <span class=md-ellipsis> Skills </span> </a> </li> <li class=md-nav__item> <a href=../../blogs/ class=md-nav__link> <span class=md-ellipsis> Blogs </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1_4> <label class=md-nav__link for=__nav_1_4 id=__nav_1_4_label tabindex=0> <span class=md-ellipsis> Leasure </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_1_4_label aria-expanded=false> <label class=md-nav__title for=__nav_1_4> <span class="md-nav__icon md-icon"></span> Leasure </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../astronomy/ class=md-nav__link> <span class=md-ellipsis> Astronomy </span> </a> </li> <li class=md-nav__item> <a href=../../astronomy/physic/ class=md-nav__link> <span class=md-ellipsis> Physic - Newton </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Coding </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Coding </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../coding/playground/ class=md-nav__link> <span class=md-ellipsis> Playground </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> Dev & Ops </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Dev & Ops </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../coding/agile/ class=md-nav__link> <span class=md-ellipsis> Agile </span> </a> </li> <li class=md-nav__item> <a href=../../coding/git/ class=md-nav__link> <span class=md-ellipsis> Git summary </span> </a> </li> <li class=md-nav__item> <a href=../../coding/gitops/ class=md-nav__link> <span class=md-ellipsis> GitOps </span> </a> </li> <li class=md-nav__item> <a href=../../coding/tekton/ class=md-nav__link> <span class=md-ellipsis> Tekton </span> </a> </li> <li class=md-nav__item> <a href=../../coding/argocd/ class=md-nav__link> <span class=md-ellipsis> ArgoCD </span> </a> </li> <li class=md-nav__item> <a href=../../coding/finch/ class=md-nav__link> <span class=md-ellipsis> Finch </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class=md-ellipsis> Fun problems </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Fun problems </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../fun/puzzles/ class=md-nav__link> <span class=md-ellipsis> puzzles </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4 id=__nav_2_4_label tabindex=0> <span class=md-ellipsis> Java </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Java </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../java/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../../java/FAQ/ class=md-nav__link> <span class=md-ellipsis> Java FAQ </span> </a> </li> <li class=md-nav__item> <a href=../../java/concurrent/ class=md-nav__link> <span class=md-ellipsis> Concurrency </span> </a> </li> <li class=md-nav__item> <a href=../../java/funqy/ class=md-nav__link> <span class=md-ellipsis> Funqy </span> </a> </li> <li class=md-nav__item> <a href=../../java/microprofile/ class=md-nav__link> <span class=md-ellipsis> Microprofile 3.x </span> </a> </li> <li class=md-nav__item> <a href=../../java/openliberty/ class=md-nav__link> <span class=md-ellipsis> Open Liberty </span> </a> </li> <li class=md-nav__item> <a href=../../java/quarkus/ class=md-nav__link> <span class=md-ellipsis> Quarkus </span> </a> </li> <li class=md-nav__item> <a href=../../java/restassured/ class=md-nav__link> <span class=md-ellipsis> Rest assured </span> </a> </li> <li class=md-nav__item> <a href=../../java/springcloud/ class=md-nav__link> <span class=md-ellipsis> SpringCloud </span> </a> </li> <li class=md-nav__item> <a href=../../coding/testcontainer/ class=md-nav__link> <span class=md-ellipsis> TestContainer </span> </a> </li> <li class=md-nav__item> <a href=../../java/vertx/ class=md-nav__link> <span class=md-ellipsis> Vert.x </span> </a> </li> <li class=md-nav__item> <a href=../../java/java-vscode/ class=md-nav__link> <span class=md-ellipsis> VScode </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../techno/podman/ class=md-nav__link> <span class=md-ellipsis> Podman </span> </a> </li> <li class=md-nav__item> <a href=../../coding/reactjs/ class=md-nav__link> <span class=md-ellipsis> React.js & next.js </span> </a> </li> <li class=md-nav__item> <a href=../../coding/istio/ class=md-nav__link> <span class=md-ellipsis> istio </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/python-code class=md-nav__link> <span class=md-ellipsis> Python </span> </a> </li> <li class=md-nav__item> <a href=../../coding/knative/ class=md-nav__link> <span class=md-ellipsis> Knative </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/vuejs-studies/ class=md-nav__link> <span class=md-ellipsis> Vue.js Studies </span> </a> </li> <li class=md-nav__item> <a href=https://cloudnative101.dev/ class=md-nav__link> <span class=md-ellipsis> Cloud native content IBM </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/angular-sandbox/ class=md-nav__link> <span class=md-ellipsis> Angular </span> </a> </li> <li class=md-nav__item> <a href=../../code-template/ class=md-nav__link> <span class=md-ellipsis> My code templates </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Knowledge base </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Knowledge base </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../blogs/consultant-job/ class=md-nav__link> <span class=md-ellipsis> The SA job </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class=md-ellipsis> Leadership </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Leadership </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../leadership/first-90-days/ class=md-nav__link> <span class=md-ellipsis> 90 Days </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3 checked> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class=md-ellipsis> Architecture </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Architecture </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Conduct System Design </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Conduct System Design </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#methodology class=md-nav__link> <span class=md-ellipsis> Methodology </span> </a> </li> <li class=md-nav__item> <a href=#scalability class=md-nav__link> <span class=md-ellipsis> Scalability </span> </a> <nav class=md-nav aria-label=Scalability> <ul class=md-nav__list> <li class=md-nav__item> <a href=#single-server-design class=md-nav__link> <span class=md-ellipsis> Single server design </span> </a> </li> <li class=md-nav__item> <a href=#vertical-scaling class=md-nav__link> <span class=md-ellipsis> Vertical scaling </span> </a> </li> <li class=md-nav__item> <a href=#horizontal-scaling class=md-nav__link> <span class=md-ellipsis> Horizontal scaling </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#failover class=md-nav__link> <span class=md-ellipsis> Failover </span> </a> <nav class=md-nav aria-label=Failover> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cold-standby class=md-nav__link> <span class=md-ellipsis> Cold standby </span> </a> </li> <li class=md-nav__item> <a href=#warm-standby class=md-nav__link> <span class=md-ellipsis> Warm Standby </span> </a> </li> <li class=md-nav__item> <a href=#hot-standby class=md-nav__link> <span class=md-ellipsis> Hot Standby </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sharding-database class=md-nav__link> <span class=md-ellipsis> Sharding database </span> </a> <nav class=md-nav aria-label="Sharding database"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#de-normalizing class=md-nav__link> <span class=md-ellipsis> De-normalizing </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#data-lake class=md-nav__link> <span class=md-ellipsis> Data lake </span> </a> </li> <li class=md-nav__item> <a href=#cap-acid class=md-nav__link> <span class=md-ellipsis> CAP &amp; ACID </span> </a> </li> <li class=md-nav__item> <a href=#caching class=md-nav__link> <span class=md-ellipsis> Caching </span> </a> <nav class=md-nav aria-label=Caching> <ul class=md-nav__list> <li class=md-nav__item> <a href=#content-delivery-networks class=md-nav__link> <span class=md-ellipsis> Content Delivery Networks </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#resiliency class=md-nav__link> <span class=md-ellipsis> Resiliency </span> </a> <nav class=md-nav aria-label=Resiliency> <ul class=md-nav__list> <li class=md-nav__item> <a href=#hdfs class=md-nav__link> <span class=md-ellipsis> HDFS </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sla class=md-nav__link> <span class=md-ellipsis> SLA </span> </a> </li> <li class=md-nav__item> <a href=#big-data class=md-nav__link> <span class=md-ellipsis> Big Data </span> </a> <nav class=md-nav aria-label="Big Data"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#apache-spark class=md-nav__link> <span class=md-ellipsis> Apache Spark </span> </a> </li> <li class=md-nav__item> <a href=#flink class=md-nav__link> <span class=md-ellipsis> Flink </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cloud-computing-services class=md-nav__link> <span class=md-ellipsis> Cloud computing services </span> </a> </li> <li class=md-nav__item> <a href=#mock-system-design-interviews class=md-nav__link> <span class=md-ellipsis> Mock system design interviews </span> </a> <nav class=md-nav aria-label="Mock system design interviews"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#url-shortening-service class=md-nav__link> <span class=md-ellipsis> URL shortening service </span> </a> </li> <li class=md-nav__item> <a href=#a-restaurant-system-like-opentable class=md-nav__link> <span class=md-ellipsis> A restaurant system like OpenTable </span> </a> </li> <li class=md-nav__item> <a href=#web-crawler-for-a-search class=md-nav__link> <span class=md-ellipsis> Web Crawler for a search </span> </a> </li> <li class=md-nav__item> <a href=#top-sellers-in-e-commerce class=md-nav__link> <span class=md-ellipsis> Top sellers in e-commerce </span> </a> </li> <li class=md-nav__item> <a href=#video-sharing-service class=md-nav__link> <span class=md-ellipsis> Video sharing service </span> </a> </li> <li class=md-nav__item> <a href=#designing-search-engine class=md-nav__link> <span class=md-ellipsis> Designing search engine </span> </a> </li> <li class=md-nav__item> <a href=#bpel-to-microservices class=md-nav__link> <span class=md-ellipsis> BPEL to microservices </span> </a> </li> <li class=md-nav__item> <a href=#music-tracking class=md-nav__link> <span class=md-ellipsis> Music tracking </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/eda-studies class=md-nav__link> <span class=md-ellipsis> Event Driven Architecture </span> </a> </li> <li class=md-nav__item> <a href=../tcpip/ class=md-nav__link> <span class=md-ellipsis> TPC/IP summary </span> </a> </li> <li class=md-nav__item> <a href=../flow-architectures/ class=md-nav__link> <span class=md-ellipsis> Flow architectures </span> </a> </li> <li class=md-nav__item> <a href=../streaming/ class=md-nav__link> <span class=md-ellipsis> Streaming processing </span> </a> </li> <li class=md-nav__item> <a href=../architectural-decisions/ class=md-nav__link> <span class=md-ellipsis> Architecture decision </span> </a> </li> <li class=md-nav__item> <a href="https://jbcodef orce.github.io/eda-studies/ddd" class=md-nav__link> <span class=md-ellipsis> DDD </span> </a> </li> <li class=md-nav__item> <a href=../DR/ class=md-nav__link> <span class=md-ellipsis> Disaster recovery </span> </a> </li> <li class=md-nav__item> <a href=../../coding/istio/ class=md-nav__link> <span class=md-ellipsis> istio </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/openshift-studies class=md-nav__link> <span class=md-ellipsis> Openshift Studies </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4 id=__nav_3_4_label tabindex=0> <span class=md-ellipsis> Methodology </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> Methodology </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../methodology/design-thinking/ class=md-nav__link> <span class=md-ellipsis> Design Thinking </span> </a> </li> <li class=md-nav__item> <a href=../../methodology/data-intensive/ class=md-nav__link> <span class=md-ellipsis> Data intensive </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/eda-studies/event-storming/ class=md-nav__link> <span class=md-ellipsis> Event Storming </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/eda-studies/ddd/ class=md-nav__link> <span class=md-ellipsis> Domain driven design </span> </a> </li> <li class=md-nav__item> <a href=../../methodology/lean-startup/ class=md-nav__link> <span class=md-ellipsis> Lean startup </span> </a> </li> <li class=md-nav__item> <a href=../../methodology/pm/ class=md-nav__link> <span class=md-ellipsis> Product manager </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_7> <label class=md-nav__link for=__nav_3_4_7 id=__nav_3_4_7_label tabindex=0> <span class=md-ellipsis> ABRD </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_4_7_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4_7> <span class="md-nav__icon md-icon"></span> ABRD </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../methodology/abrd/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../../methodology/abrd/concept/ class=md-nav__link> <span class=md-ellipsis> Concepts </span> </a> </li> <li class=md-nav__item> <a href=../../methodology/abrd/harvesting/ class=md-nav__link> <span class=md-ellipsis> Rule Harvesting </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../methodology/narrative/ class=md-nav__link> <span class=md-ellipsis> Narratives </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_5> <label class=md-nav__link for=__nav_3_5 id=__nav_3_5_label tabindex=0> <span class=md-ellipsis> Data </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> Data </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../data/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../../techno/data/ class=md-nav__link> <span class=md-ellipsis> Iceberg & others </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/db-play/ class=md-nav__link> <span class=md-ellipsis> Database play </span> </a> </li> <li class=md-nav__item> <a href=../../data/data-topology/ class=md-nav__link> <span class=md-ellipsis> Data topology </span> </a> </li> <li class=md-nav__item> <a href=../../data/data-integration/ class=md-nav__link> <span class=md-ellipsis> Data integration </span> </a> </li> <li class=md-nav__item> <a href=../../data/data-replication/ class=md-nav__link> <span class=md-ellipsis> Data replication </span> </a> </li> <li class=md-nav__item> <a href=../../data/data-partitioning/ class=md-nav__link> <span class=md-ellipsis> Data partitioning </span> </a> </li> <li class=md-nav__item> <a href=../streaming/ class=md-nav__link> <span class=md-ellipsis> Streaming processing </span> </a> </li> <li class=md-nav__item> <a href=../opendatahub/ class=md-nav__link> <span class=md-ellipsis> OpenData Hub </span> </a> </li> <li class=md-nav__item> <a href=../../data/olap/ class=md-nav__link> <span class=md-ellipsis> OLAP </span> </a> </li> <li class=md-nav__item> <a href=../../data/cassandra/ class=md-nav__link> <span class=md-ellipsis> Cassandra </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_6> <label class=md-nav__link for=__nav_3_6 id=__nav_3_6_label tabindex=0> <span class=md-ellipsis> AI </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_6_label aria-expanded=false> <label class=md-nav__title for=__nav_3_6> <span class="md-nav__icon md-icon"></span> AI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/ML-studies/#machine-learning class=md-nav__link> <span class=md-ellipsis> Machine learning </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/ML-studies/ml/deep-learning/ class=md-nav__link> <span class=md-ellipsis> Deep learning </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Techno </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Techno </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../techno/apicurio/ class=md-nav__link> <span class=md-ellipsis> Apicurio </span> </a> </li> <li class=md-nav__item> <a href=../../techno/atlas/ class=md-nav__link> <span class=md-ellipsis> Atlas </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/yarfba class=md-nav__link> <span class=md-ellipsis> AWS body of knowledge </span> </a> </li> <li class=md-nav__item> <a href=../../techno/code-engine/ class=md-nav__link> <span class=md-ellipsis> Code Engine </span> </a> </li> <li class=md-nav__item> <a href=../../techno/databricks/ class=md-nav__link> <span class=md-ellipsis> Databricks </span> </a> </li> <li class=md-nav__item> <a href=../../techno/docker/ class=md-nav__link> <span class=md-ellipsis> Docker </span> </a> </li> <li class=md-nav__item> <a href=../../techno/decisions/drools/ class=md-nav__link> <span class=md-ellipsis> Drools </span> </a> </li> <li class=md-nav__item> <a href=../../techno/egeria/ class=md-nav__link> <span class=md-ellipsis> Egeria </span> </a> </li> <li class=md-nav__item> <a href=../../techno/elasticsrch/ class=md-nav__link> <span class=md-ellipsis> Elastic Search </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/flink-studies/ class=md-nav__link> <span class=md-ellipsis> Flink Studies </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_11> <label class=md-nav__link for=__nav_4_11 id=__nav_4_11_label tabindex=0> <span class=md-ellipsis> IBM </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_11_label aria-expanded=false> <label class=md-nav__title for=__nav_4_11> <span class="md-nav__icon md-icon"></span> IBM </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ibmcloud/ class=md-nav__link> <span class=md-ellipsis> IBM Cloud </span> </a> </li> <li class=md-nav__item> <a href=../satellite/ class=md-nav__link> <span class=md-ellipsis> IBM Cloud Satellite </span> </a> </li> <li class=md-nav__item> <a href=../../techno/cos/ class=md-nav__link> <span class=md-ellipsis> Cloud object storage </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_11_4> <label class=md-nav__link for=__nav_4_11_4 id=__nav_4_11_4_label tabindex=0> <span class=md-ellipsis> Cloud Pak Automation </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_11_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_11_4> <span class="md-nav__icon md-icon"></span> Cloud Pak Automation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../techno/cp4a/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../techno/cp4a/bai/ class=md-nav__link> <span class=md-ellipsis> BAI </span> </a> </li> <li class=md-nav__item> <a href=../../techno/cp4a/odm/ class=md-nav__link> <span class=md-ellipsis> ODM </span> </a> </li> <li class=md-nav__item> <a href=../../techno/cp4a/ads/ class=md-nav__link> <span class=md-ellipsis> Automation Decision Service </span> </a> </li> <li class=md-nav__item> <a href=../../techno/cp4a/process-mining/ class=md-nav__link> <span class=md-ellipsis> Process mining </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_11_5> <label class=md-nav__link for=__nav_4_11_5 id=__nav_4_11_5_label tabindex=0> <span class=md-ellipsis> Cloud Pak integration </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_11_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_11_5> <span class="md-nav__icon md-icon"></span> Cloud Pak integration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../techno/integration/cp4i/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../techno/integration/apic/ class=md-nav__link> <span class=md-ellipsis> APIC </span> </a> </li> <li class=md-nav__item> <a href=../../techno/integration/eepm/ class=md-nav__link> <span class=md-ellipsis> EEPM </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_11_5_4> <label class=md-nav__link for=__nav_4_11_5_4 id=__nav_4_11_5_4_label tabindex=0> <span class=md-ellipsis> MQ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_4_11_5_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_11_5_4> <span class="md-nav__icon md-icon"></span> MQ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../techno/integration/mq/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../java/mqChallenge/ class=md-nav__link> <span class=md-ellipsis> MQ challenge </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/kafka-studies class=md-nav__link> <span class=md-ellipsis> Kafka Studies </span> </a> </li> <li class=md-nav__item> <a href=../../techno/kar/ class=md-nav__link> <span class=md-ellipsis> KAR </span> </a> </li> <li class=md-nav__item> <a href=../../techno/microcks/ class=md-nav__link> <span class=md-ellipsis> Microcks </span> </a> </li> <li class=md-nav__item> <a href=../../techno/minikube/ class=md-nav__link> <span class=md-ellipsis> Minikube </span> </a> </li> <li class=md-nav__item> <a href=../../techno/podman/ class=md-nav__link> <span class=md-ellipsis> Podman </span> </a> </li> <li class=md-nav__item> <a href=../../techno/prometheus/ class=md-nav__link> <span class=md-ellipsis> Prometheus </span> </a> </li> <li class=md-nav__item> <a href=../../techno/rancherdesktop/ class=md-nav__link> <span class=md-ellipsis> Rancher Desktop </span> </a> </li> <li class=md-nav__item> <a href=../../techno/redis/ class=md-nav__link> <span class=md-ellipsis> Redis </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/redpanda-studies/ class=md-nav__link> <span class=md-ellipsis> Red Panda </span> </a> </li> <li class=md-nav__item> <a href=../../techno/scaleway/ class=md-nav__link> <span class=md-ellipsis> Scaleway </span> </a> </li> <li class=md-nav__item> <a href=../../techno/solr/ class=md-nav__link> <span class=md-ellipsis> Solr </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/spark-studies/ class=md-nav__link> <span class=md-ellipsis> Spark Studies </span> </a> </li> <li class=md-nav__item> <a href=../../java/java-vscode/ class=md-nav__link> <span class=md-ellipsis> VScode </span> </a> </li> <li class=md-nav__item> <a href=../../techno/wsl2/ class=md-nav__link> <span class=md-ellipsis> WSL2-Ubuntu </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#methodology class=md-nav__link> <span class=md-ellipsis> Methodology </span> </a> </li> <li class=md-nav__item> <a href=#scalability class=md-nav__link> <span class=md-ellipsis> Scalability </span> </a> <nav class=md-nav aria-label=Scalability> <ul class=md-nav__list> <li class=md-nav__item> <a href=#single-server-design class=md-nav__link> <span class=md-ellipsis> Single server design </span> </a> </li> <li class=md-nav__item> <a href=#vertical-scaling class=md-nav__link> <span class=md-ellipsis> Vertical scaling </span> </a> </li> <li class=md-nav__item> <a href=#horizontal-scaling class=md-nav__link> <span class=md-ellipsis> Horizontal scaling </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#failover class=md-nav__link> <span class=md-ellipsis> Failover </span> </a> <nav class=md-nav aria-label=Failover> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cold-standby class=md-nav__link> <span class=md-ellipsis> Cold standby </span> </a> </li> <li class=md-nav__item> <a href=#warm-standby class=md-nav__link> <span class=md-ellipsis> Warm Standby </span> </a> </li> <li class=md-nav__item> <a href=#hot-standby class=md-nav__link> <span class=md-ellipsis> Hot Standby </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sharding-database class=md-nav__link> <span class=md-ellipsis> Sharding database </span> </a> <nav class=md-nav aria-label="Sharding database"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#de-normalizing class=md-nav__link> <span class=md-ellipsis> De-normalizing </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#data-lake class=md-nav__link> <span class=md-ellipsis> Data lake </span> </a> </li> <li class=md-nav__item> <a href=#cap-acid class=md-nav__link> <span class=md-ellipsis> CAP &amp; ACID </span> </a> </li> <li class=md-nav__item> <a href=#caching class=md-nav__link> <span class=md-ellipsis> Caching </span> </a> <nav class=md-nav aria-label=Caching> <ul class=md-nav__list> <li class=md-nav__item> <a href=#content-delivery-networks class=md-nav__link> <span class=md-ellipsis> Content Delivery Networks </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#resiliency class=md-nav__link> <span class=md-ellipsis> Resiliency </span> </a> <nav class=md-nav aria-label=Resiliency> <ul class=md-nav__list> <li class=md-nav__item> <a href=#hdfs class=md-nav__link> <span class=md-ellipsis> HDFS </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sla class=md-nav__link> <span class=md-ellipsis> SLA </span> </a> </li> <li class=md-nav__item> <a href=#big-data class=md-nav__link> <span class=md-ellipsis> Big Data </span> </a> <nav class=md-nav aria-label="Big Data"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#apache-spark class=md-nav__link> <span class=md-ellipsis> Apache Spark </span> </a> </li> <li class=md-nav__item> <a href=#flink class=md-nav__link> <span class=md-ellipsis> Flink </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cloud-computing-services class=md-nav__link> <span class=md-ellipsis> Cloud computing services </span> </a> </li> <li class=md-nav__item> <a href=#mock-system-design-interviews class=md-nav__link> <span class=md-ellipsis> Mock system design interviews </span> </a> <nav class=md-nav aria-label="Mock system design interviews"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#url-shortening-service class=md-nav__link> <span class=md-ellipsis> URL shortening service </span> </a> </li> <li class=md-nav__item> <a href=#a-restaurant-system-like-opentable class=md-nav__link> <span class=md-ellipsis> A restaurant system like OpenTable </span> </a> </li> <li class=md-nav__item> <a href=#web-crawler-for-a-search class=md-nav__link> <span class=md-ellipsis> Web Crawler for a search </span> </a> </li> <li class=md-nav__item> <a href=#top-sellers-in-e-commerce class=md-nav__link> <span class=md-ellipsis> Top sellers in e-commerce </span> </a> </li> <li class=md-nav__item> <a href=#video-sharing-service class=md-nav__link> <span class=md-ellipsis> Video sharing service </span> </a> </li> <li class=md-nav__item> <a href=#designing-search-engine class=md-nav__link> <span class=md-ellipsis> Designing search engine </span> </a> </li> <li class=md-nav__item> <a href=#bpel-to-microservices class=md-nav__link> <span class=md-ellipsis> BPEL to microservices </span> </a> </li> <li class=md-nav__item> <a href=#music-tracking class=md-nav__link> <span class=md-ellipsis> Music tracking </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=conduct-system-design>Conduct system design<a class=headerlink href=#conduct-system-design title="Permanent link">&para;</a></h1> <h2 id=methodology>Methodology<a class=headerlink href=#methodology title="Permanent link">&para;</a></h2> <ul> <li> <p>Verify the goals</p> <ul> <li>Why we are doing this application / solution?</li> <li>Who is the end user?</li> <li>How they will use the system and for what purpose?</li> <li>What are the expected outcomes and what are the inputs?</li> <li>How to measure success?</li> </ul> </li> <li> <p>Think about end user's experience - working backward</p> </li> <li> <p>Establish scope</p> <ul> <li>list some potential features</li> <li>Are we looking at end to end experience or API design</li> <li>type of client application or device</li> <li>Do we require authentication? Analytics? Integrating with existing systems?</li> </ul> </li> <li> <p>Design according to scale</p> <ul> <li>What is the expected read-to-write ratio?</li> <li>what volumes in term of transactions/ requests </li> <li>How many concurrent requests should we expect?</li> <li>What’s the average expected response time?</li> <li>What’s the limit of the data we allow users to provide?</li> <li>Do we need to expose read data in different geographies?</li> </ul> </li> <li> <p>Defining latency requirements</p> <ul> <li>how fast is fast enough?</li> <li>Try to express in SLA language: 100ms at 3-nines - 99.9% of availability is around 9h down per year. 5 nines is 5 minutes down.</li> </ul> </li> </ul> <details class=note open=open> <summary>Information</summary> <ul> <li>AWS offers TCP connections up to the edge and then use AWS private backbone (global accelerator), which improves performance by 60% </li> <li>Try to use Real User Monitoring tool to measure network performance</li> <li> <p>Try to measure: </p> <ul> <li><strong>Throughput</strong> – the amount of data or number of data packets that can be delivered in a predefined timeframe, </li> <li><strong>Latency</strong> in connection – also called round-trip times or RTT, </li> <li><strong>Network jitter</strong> – the variability over time of the network latency, and </li> <li><strong>Packet loss</strong>. Get 1,000 samples every hour for a day.</li> </ul> </li> <li> <p><a href=https://www.tutorialspoint.com/apache_bench/apache_bench_quick_guide.htm>Apache Bench</a> helps to test throughput and latency of HTTP servers</p> </li> <li>Round-Trip Time (RTT) is the total time that it takes a data packet to travel from one point to another on the network and for a response to be sent back to the source. It is a key perf metric for latency. Ping measure ICMP RTT.</li> </ul> </details> <ul> <li> <p>From high level to drill down</p> <ul> <li>Start by high level view</li> <li>Cover end to end process</li> <li>Go when necessary to detail of an API, data stores,..</li> <li>Look at potential performance bottle neck</li> </ul> </li> <li> <p>Review <a href=../../fun/puzzles/ >data structure and algorithms</a> to support distributed system and scaling</p> </li> <li> <p>Be able to argument around</p> <ul> <li>What type of database would you use and why?</li> <li>What caching solutions are out there? Which would you choose and why?</li> <li>What frameworks can we use as infrastructure in your ecosystem of choice?</li> </ul> </li> <li> <p>Do not be defending</p> </li> <li> <p>Demonstrate perceverance - determination: internal drive to search for a solution - collaboratively. </p> <ul> <li>Behavioral interviewing, tell the stories when you demonstrate perceverance.</li> <li>Independent thought: getting your solution from your own experience</li> <li>Independent learning</li> <li>Never give up and never surrender</li> </ul> </li> <li> <p>Tech skills matter but they are just table stakes</p> </li> <li>Demonstration self motivated: bring with your own. </li> <li>Do not be the guy "let me google for you!"</li> <li>They do not want to see people following step by step instructions/ recipes, because it demonstrates you cannot solve new problem</li> <li>Work as no value until demonstrate to customers</li> </ul> <h2 id=scalability>Scalability<a class=headerlink href=#scalability title="Permanent link">&para;</a></h2> <h3 id=single-server-design>Single server design<a class=headerlink href=#single-server-design title="Permanent link">&para;</a></h3> <ul> <li>Unique server with HTTP and Database on a unique server. Simple but has a single point of failure: impact is to change DNS routing with new server.</li> <li>Separate out the DB help to scale DB and server independently. </li> </ul> <h3 id=vertical-scaling>Vertical scaling<a class=headerlink href=#vertical-scaling title="Permanent link">&para;</a></h3> <p>Use bigger server. Get a limit by hardware size. Still single point of failure. Pros is the limited number of things to maintain.</p> <h3 id=horizontal-scaling>Horizontal scaling<a class=headerlink href=#horizontal-scaling title="Permanent link">&para;</a></h3> <p>Load balancer sends traffic to a farm of servers. This is easier if the web server is stateless, that means we do not keep state of the conversation. Any server can get request at any time.</p> <p><img alt src=../images/classic-2-tier.png></p> <p>A master database generally only supports write operations. A slave database gets copies of the data from the master database and supports read operations.</p> <p>By replicating data across different locations, the website remains in operation even if a database is offline as it can access data stored in another database server.</p> <p>This is important to remember that user session needs to be kept, for example to avoid re-authenticate if the new request reaches another web server. Stateful web tier is not encouraged for scalability. So stateless architecture is used, where HTTP requests from users can be sent to any web servers, which fetch state data from a shared data store. The shared data store could be a relational database, Memcached/Redis, NoSQL,... </p> <h2 id=failover>Failover<a class=headerlink href=#failover title="Permanent link">&para;</a></h2> <p>See also <a href=../DR/ >DR article</a> and <a href=../../data/data-replication/ >data replication blog.</a></p> <p>To access transparently server on two different data centers, we use geoDNS, which is a DNS service that allows domain names to be resolved to IP addresses based on the location of a user. In the event of any significant data center outage, we direct all traffic to a healthy data center.</p> <p>Important challenges to consider are:</p> <ul> <li>Traffic redirection: Effective tools are needed to direct traffic to the correct data center.</li> <li>Data synchronization: Users from different regions could use different local database or cache. In failover cases, traffic might be routed to a data center where data is unavailable.</li> </ul> <h3 id=cold-standby>Cold standby<a class=headerlink href=#cold-standby title="Permanent link">&para;</a></h3> <ul> <li>periodic backup</li> <li>restore backup on DR site</li> <li>reconnect front end server to new DB server</li> <li>Data gone after the database backup is lost</li> <li>Take time to get the new server up and running.</li> <li>RPO can be day (snapshot frequency) - RTO hours</li> </ul> <h3 id=warm-standby>Warm Standby<a class=headerlink href=#warm-standby title="Permanent link">&para;</a></h3> <ul> <li>Continuous replicated: the DB is ready to get connected</li> <li>Tiny window to get data loss</li> <li>Still using vertical scaling </li> </ul> <h3 id=hot-standby>Hot Standby<a class=headerlink href=#hot-standby title="Permanent link">&para;</a></h3> <ul> <li>Write to both servers simultanuously </li> <li>Can distribute the read</li> </ul> <h2 id=sharding-database>Sharding database<a class=headerlink href=#sharding-database title="Permanent link">&para;</a></h2> <ul> <li>Horizontal partition of the database</li> <li>Each shard has its own replicated backup</li> <li>Hashcode is used to allocate data to shard</li> <li>Combining data from shards is more complex. So need to minimize joins and complex SQL</li> <li>Organize data in key value, to easy the hashing. </li> <li>Value can be an object and let the client being able to interpret.</li> </ul> <p>For example MongoDB uses <code>mongos</code> on each app server to distribute the data among a replica set. Replica sets are managed by primary server and secondary servers manage shards. In case of primary server fails, the secondary servers will elect a new primary. Primary looks like a SPOF, but it recovers quickly via the secondary taking the lead. Need at least 3 servers to elect a primary. Traffic is partitioning according to a scheme, which is saved in a config servers. </p> <p><a href=../../data/cassandra/ >Cassandra</a> uses node rings, a shard is replicated multiple times to other nodes, but each node is a primary of a shard. So data needs to be fully replicated, and eventually will be consistent. </p> <p>Resharding is a challenge for the database.</p> <p>NoSQL really means sharded database, as some DB can support most of SQL operations. </p> <p><strong>Need to address how to partition the raw data for best performance</strong>. For example organize the bucket or folder structure to simplify future queries: organize them by date, or entity key...</p> <h3 id=de-normalizing>De-normalizing<a class=headerlink href=#de-normalizing title="Permanent link">&para;</a></h3> <p>We normalize the data to use less storage and updates in one place. But need more lookups.</p> <p>De-normalize duplicates data, use more storage, but uses one lookup to get the data, which leads to have harder update.</p> <p>To assess what is a better fit, start with normalize, as we need to think about the customer experience, and consider different types of query.</p> <h2 id=data-lake>Data lake<a class=headerlink href=#data-lake title="Permanent link">&para;</a></h2> <p>Throw data into text files (json, csv...) into big distributed storage system like S3. Which his named data lake. It is used in common problem like Big Data and unstructured data. </p> <p>We can also query those data by adding an intermediate components to create schema from the data and support queries. (Amazon Glue like a schema discovery) and Amazon Athena to support queries and Redshift to do distributed warehouse with spectrum to query on top of s3.</p> <table> <thead> <tr> <th>Product</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>AWS S3</td> <td><a href=https://s3.console.aws.amazon.com/s3/ >Service</a>. <a href=https://aws.amazon.com/big-data/datalakes-and-analytics/ >data lake with s3</a>. 11 9's% for durability. Pay as you go. Offers different level of backup with Glacier</td> </tr> <tr> <td>Google Cloud Storage</td> <td><a href=https://cloud.google.com/storage/docs/introduction>introduction</a>. Use hierarchy like: organization -&gt; project -&gt; bucket -&gt; object. <a href="https://cloud.google.com/architecture?text=Cloud%20Storage">Tutorial</a></td> </tr> <tr> <td>IBM Cloud Object Storage</td> <td><a href=https://www.ibm.com/cloud/object-storage>doc</a></td> </tr> <tr> <td>Azure Blob</td> <td><a href=https://azure.microsoft.com/en-us/services/storage/blobs/ >doc</a></td> </tr> </tbody> </table> <h2 id=cap-acid>CAP &amp; ACID<a class=headerlink href=#cap-acid title="Permanent link">&para;</a></h2> <ul> <li><strong>Atomicity</strong>: either the entire transaction succeeds or the entire thing fails</li> <li><strong>Consistency</strong>: All database rules are enforced, or the entire tx is rolled back. Consistency outside of ACID is really to address how quickly we get the data eventually consistent after a write. </li> <li><strong>Isolation</strong>: no tx is affected by any other tx that is still in progress.</li> <li><strong>Durability</strong>: once a tx is committed, it stays, event if the system crashes.</li> </ul> <p><strong>CAP theorem</strong>: We can have only 2 of the 3: Consistency, Availability and Partition tolerance. With enhanced progress, CAP is becoming weaker, but still applies. A is really looking at single point of failure when something going down. MongoDB for example may loose A for a few seconds maximum (find a new primary leader), which may be fine.</p> <ul> <li>AC: is supported by classical DBs like mySQL, postgresql</li> <li>AP: Cassandra: C is lost because of the time to replicate</li> <li>CP: Mongodb, HBASE, dynamoDB: strong consistent read request, it returns a response with the most up-to-date data that reflects updates by all prior related write operations to which DynamoDB returned a successful response, so network delay or outtage does no guaranty A.</li> </ul> <p>Single-master designs favor consistency and partition tolerance.</p> <h2 id=caching>Caching<a class=headerlink href=#caching title="Permanent link">&para;</a></h2> <p><strong>Goal:</strong> limit the access to disk to get data, or go over the network.</p> <p><strong>Solution</strong> is to add a cache layer in front of the DB to keep the most asked data, or the most recent... Caching services can be used to be able to scale horizontally.</p> <p>Every cache server is managing a partition of the data, using hashing.</p> <p>Appropriate for applications with more reads than writes. Expiration policies dictate how long data stays in cache. Avoid data go stale.</p> <p>Hotspot may bring challenge for cache efficiency, need to cache also on load distribution and not just on hash. Finally starting the cache is also a challenge, as all requests will go to the DB.</p> <p>Inconsistency can happen because data-modifying operations on the data store and cache are not in a single transaction. When scaling across multiple regions, maintaining consistency between the data store and cache is challenging.</p> <p>Manage the cache size with different eviction policies:</p> <ul> <li>LRU: least recently used. HashMap for key and then doubly linked-list, head points to MRU and tail points to the LRU. Evicts data that hasn't been accessed in the longest amount of time once memory for the cache fills up.</li> <li>LFU: least frequently used. </li> <li>FIFO</li> </ul> <p>Redis, Memcached, ehcache. AWS Elasticache</p> <h3 id=content-delivery-networks>Content Delivery Networks<a class=headerlink href=#content-delivery-networks title="Permanent link">&para;</a></h3> <p>when a user visits a website, a CDN server closest to the user will deliver static content. CDN distributes read data geographically (css, images, js, html...), can even being used for ML model execution.</p> <p>Load balancers and caching technologies such as Redis can also be parts of low-latency designs, but are not specifically for the problem of global traffic.</p> <p>CDNs may run by third-party providers, and you are charged for data transfers in and out of the CDN.</p> <p>AWS cloudfront is a CDN.</p> <h2 id=resiliency>Resiliency<a class=headerlink href=#resiliency title="Permanent link">&para;</a></h2> <p>Assess what could happen is a blade/ server, a rack, an AZ, a data center, a region goes down. Mission critical applications should not loose data. Use 3 tiers app classification schemas.</p> <p>Use Geo-location load balancer then geo LB. </p> <p>Need to plan for capacity to be able to get traffic from failed region to 'backup region'.</p> <p>Secondary replicas should be spread to different servers, racks and then data centers. </p> <p>Balance budget over availability. Amazon with infinite money does over-provisioning. </p> <h3 id=hdfs>HDFS<a class=headerlink href=#hdfs title="Permanent link">&para;</a></h3> <p>Files are broken into blocks. Blocks are replicated within the cluster. Replicas are rack aware. </p> <p>Clients try to read from nearest replica.</p> <p>The Name node coordinate the blocks placement operations. For HA the name nodes is a 3 nodes cluster, so a single point of failure for a very short time period.</p> <p>If a client app is running in the same server as HDFS the data it accesses may be moved to it.</p> <h2 id=sla>SLA<a class=headerlink href=#sla title="Permanent link">&para;</a></h2> <ul> <li><strong>Durability</strong>: % chance of losing data</li> <li><strong>Latency</strong> to get the time for a service to return a response to a request. 99.9% response time is under 100ms</li> <li>99.9999% <strong>availability</strong> is 30 s down time. 99% is 3.45 days out</li> </ul> <h2 id=big-data>Big Data<a class=headerlink href=#big-data title="Permanent link">&para;</a></h2> <h3 id=apache-spark><a href=https://jbcodeforce.github.io/spark-studies/ >Apache Spark</a><a class=headerlink href=#apache-spark title="Permanent link">&para;</a></h3> <p>Goal: parallelize processing on big amount of data.</p> <p>On classical HADOOP 2 - architecture for big data: </p> <ul> <li>HDFS to distribute data</li> <li>Yarn (yet another resource negotiator) to manage access to the data in HDFS</li> <li>MapReduce processing (old google - map to extract data and reduce to combine for aggregation) or Spark.</li> </ul> <p>Spark is a replacement of MapReduce. It decides how to send processing to run it in parallel. Work with in memory caching. Compute aggregation on data at rest. You can use it for interactive queries with Spark SQL. </p> <p>The drive program (or <strong>SparkContext</strong>) is the one who define what are the input, output, and the processing to do. They are scheduled by Spark to run within a cluster. SparkContext sends app code to <strong>executors</strong>.</p> <h3 id=flink>Flink<a class=headerlink href=#flink title="Permanent link">&para;</a></h3> <p>Scalable streaming platform for inbound and outbound data. See <a href=https://jbcodeforce.github.io/flink-studies/ >dedicated study</a></p> <h2 id=cloud-computing-services>Cloud computing services<a class=headerlink href=#cloud-computing-services title="Permanent link">&para;</a></h2> <table> <thead> <tr> <th></th> <th>AWS</th> <th>Google</th> <th>Azure</th> </tr> </thead> <tbody> <tr> <td><strong>Storage</strong></td> <td>s3</td> <td>cloud storage</td> <td>Disk, blob, data lake</td> </tr> <tr> <td><strong>Compute</strong></td> <td>EC2</td> <td>Compute engine</td> <td>VM</td> </tr> <tr> <td><strong>NoSQL</strong></td> <td>DynamoDB</td> <td>BigTable</td> <td>CosmosDB / Table Storage</td> </tr> <tr> <td><strong>Containers</strong></td> <td>Kubernetes / ECR / ECS</td> <td>Kubernetes</td> <td>Kubernetes</td> </tr> <tr> <td><strong>Data streams</strong></td> <td>Kinesis</td> <td>DataFlow</td> <td>Stream Analytics</td> </tr> <tr> <td><strong>Spark / Hadoop</strong></td> <td>EMR</td> <td>Dataproc</td> <td>Databricks</td> </tr> <tr> <td><strong>Data warehouse</strong></td> <td>RedShift</td> <td>BigQuery</td> <td>Azure SQL / Database</td> </tr> <tr> <td><strong>Caching</strong></td> <td>ElastiCache (Redis)</td> <td>Memorystore (Redis or memcached)</td> <td>Redis</td> </tr> </tbody> </table> <h2 id=mock-system-design-interviews>Mock system design interviews<a class=headerlink href=#mock-system-design-interviews title="Permanent link">&para;</a></h2> <h3 id=url-shortening-service>URL shortening service<a class=headerlink href=#url-shortening-service title="Permanent link">&para;</a></h3> <ul> <li>Talking about bit.ly: a service where anyone can shorten an existing URL and then the service is managing redirecting the traffic.</li> <li>what sort of scale? </li> <li>Any restriction on chars to be used?</li> <li>How short is short?</li> </ul> <p>The approach is to design the potential API, then the components, present a data model for persistence and then address the redirect.</p> <table> <thead> <tr> <th>Verb</th> <th>APIs</th> </tr> </thead> <tbody> <tr> <td>POST</td> <td>New long url, user-id returns short url and status</td> </tr> <tr> <td>POST</td> <td>Propose vanity long url, vanity URL, user-id returns status</td> </tr> <tr> <td>GET</td> <td>mapping between long and short</td> </tr> <tr> <td>PATCH</td> <td>update: short URL, long URL, user id, returns status</td> </tr> <tr> <td>DELETE</td> <td>short URL, user id return status</td> </tr> <tr> <td>GET</td> <td>short URL, redirect to long URL</td> </tr> </tbody> </table> <p><img alt src=../images/short-url-comps.png></p> <p>To perform redirect, the HTTP response status may be 301 or 302. 301 is a permanent redirect, so intermediate components will keep the mapping. But if you want to keep analytics (search engine) on your web site traffic, you want to know how many redirects are done per day, therefore 302 is a better choice. This is a temporary redirect.</p> <h3 id=a-restaurant-system-like-opentable>A restaurant system like OpenTable<a class=headerlink href=#a-restaurant-system-like-opentable title="Permanent link">&para;</a></h3> <p>As customer I want to:</p> <ul> <li>specify the number of members for the dining party.</li> <li>select a time slot and specify a location.</li> <li>select a restaurant by name.</li> <li>select a type of food.</li> <li>book the table for the selected time slot, by specifying phone number and email address.</li> <li>specify how to be contacted when closer to the time (sms).</li> <li>register as a recurring user to get royalty points.</li> </ul> <p>Other customers of this application will be restaurant owners, who want to see their booking, but also get more information about the customers, the forecast, and the number of search not leading to their restaurant. May be expose their menu. Get statistic on customer navigation into menu items.</p> <p>NFR: thousands of restaurants, national, millions of users.</p> <p>Need to scale and be reliable. Cost is not an issue.</p> <p>Data model: </p> <ul> <li>search: location, time - date, party size, type of food.</li> <li>list of restaurants.</li> <li>list of time slots.</li> <li>reservation: restaurant, party size, time slot, email, phone number, type of contact.</li> <li>return booking status with reservation ID to be able to cancel it in the future.</li> </ul> <p>So we need: </p> <ul> <li>Restaurant to describe physical location, # tables.., how they can group tables for bigger party.</li> <li>Customer representing physical contact.</li> <li>A schedule per 15 mn time slots, table list per restaurant.</li> <li>Reservation to link customer to restaurant by using their primary keys.</li> <li>A Search: time slot, party, location.</li> <li>The reservation function need to take into account capability of the restaurant on how to organize tables.</li> </ul> <p>This is a normalized data model, as it is easier and really for reservation, there is one transaction on a simple object. Restaurant and customer are read models in this context.</p> <p>Outside of the authentication, lost password APIs... we need few APIs to support the reservation:</p> <table> <thead> <tr> <th>Verb</th> <th>APIs</th> </tr> </thead> <tbody> <tr> <td>GET</td> <td>search with query? location, date, party</td> </tr> <tr> <td>POST</td> <td>reservation</td> </tr> <tr> <td>DELETE</td> <td>reservation</td> </tr> </tbody> </table> <p>Other APIs may be needed to do CRUD for each business entities: restaurants</p> <p>The servers are scaled horizontally, rack and AZ allocated, and even geo-routed.</p> <p><img alt src=../diagrams/opentable.drawio.png width=800></p> <p>DB system may be no sql based, and can be highly available and support horizontal scaling too.</p> <h3 id=web-crawler-for-a-search>Web Crawler for a search<a class=headerlink href=#web-crawler-for-a-search title="Permanent link">&para;</a></h3> <p>Problem: build a web crawler tool to prepare data for semantic search:</p> <p>Need to parse html, keep text only, may be pictures in the future, billions of web pages, and run every week. Need to update of existing page refs if they changed. </p> <p>HTML = text + ref to URL</p> <p>Singleton web crawler will put links into a LIFO pile. If we consider the web crawling as a graph navigation, we want to <a href=https://github.com/jbcodeforce/python-code/blob/master/algorithms/Graph.py>do BFS</a>, so we need a pile as data structure.</p> <p>As we need to update crawled content every week, we can, in fact, run all the time with a single instance of the crawler. The solution uses batch, as no end-user uses the system. Except that, we still need to provide metrics to display coverage: pile size, total number of page processed, link occurrence...</p> <p>Need to avoid looping into pages, so need to keep the visited pages as well. If we need to run in parallel, then pile and visited page tree will be shared and distributed. So we need a partition key, may be a hash of the url.</p> <p>The solution may look like in the figure below:</p> <p><img alt src=../diagrams/webcrawler.drawio.png width=800></p> <ul> <li>Web Crawler using HTML parser and text extraction</li> <li>Save in a distributed cloud storage the source page, and pictures</li> <li>Extract the URLs and put them in a Pile data structure. Hash the URL. Filter out URLs already processed. Add the new URLs in the Queue</li> </ul> <h3 id=top-sellers-in-e-commerce>Top sellers in e-commerce<a class=headerlink href=#top-sellers-in-e-commerce title="Permanent link">&para;</a></h3> <p>Present the top sellers per category / sub-category. We can have thousand of request per second.</p> <ul> <li>top seller means trending: so # of sell over a time period.</li> <li>time period is variable for low sell item, so item sold few time per year, needs to be visible for a category. We can also use a weight algorithm to put less impact on older sells.</li> </ul> <p><img width=200px/ src="https://latex.codecogs.com/svg.image?w&space;=&space;e^{-\lambda&space;t}"></p> <p>The update can be done few time a day for most active category.</p> <p>The new customer experience includes: after searching and looking at a category of items, the system returns a list of top seller under the product description.</p> <p>Sell Object is a product ID, category, date of sell.</p> <p>Batch processing computes the top sellers per category, and saves it in distributed cache. </p> <p>The amount of data is massive so querying per category and sort by date of sell will put stress to any SQL database. We can replicate the DB and work on the data warehouse, or adopt cloud object storage bucket with category being the bucket. For the job processing, we could use Flink or Spark, to compute the top-sell product. </p> <p>Job will run in parallel and flink will distribute data. It will compute for each product a score based in (t - purchase time) time, decaying older sells. We sort by this score.</p> <p>The top-seller data store does not need to support a big amount of data, may be keep the top 20 or 50 items per category, and may be hundred of thousand of category. Distributed document oriented Database can be used.</p> <p>To support scaling and low latency at the web page level, we need distributed caching, and scale web server horizontally. Here is a component view:</p> <p><img alt src=../images/topseller.png width=600></p> <h3 id=video-sharing-service>Video sharing service<a class=headerlink href=#video-sharing-service title="Permanent link">&para;</a></h3> <p>Some thing like youtube.</p> <ul> <li>anybody in the work can upload video, and anybody can view it.</li> <li>massive scale.</li> <li>Users and videos in billions .</li> <li>Video upload and playing back those videos.</li> </ul> <p>Feel free to use existing services.</p> <p>Customer centric design:</p> <ul> <li> <p><strong>Watching user</strong>: video search, video metadata and video player </p> <ul> <li>Need a web server returning video URL and metadata: name, url, length, author, thumbnail picture,</li> <li>Big table to keep metadata. Key value pair. Easy to replicate and cache in different geographies</li> <li>Video needs to be close to user, like a CDN, with transcoded videos. Need distributed storage, and able to scale at billion of file. File between 50 Mb to 4 Gb may be.</li> <li>Object Store can be used for the video persistence. The key for each video may include compression type, resolution...</li> <li>The video player will be able to switch between resolution, or advance in the video time. </li> </ul> </li> <li> <p>To reduce the cost of this system as CDN and object storage are not cheap. </p> <ul> <li>can classify videos that will be in CDN versus one staying on the servers.</li> <li>Long tail meaning faming - popularity - </li> <li>predict a likelihood to get a video watch today so it can be pushed to the CDN</li> <li>CDN per region per language.</li> </ul> </li> <li> <p>for uploading video, users create metadata, and then upload the raw video in a distributed storage, then the video needs to be transcoded to the different format. We can use queueing approach to get the transcoders always feeded and also being able to run in parallel.</p> </li> <li>Metadata needs to keep the state of if the video transcoding is complete or not, to avoid publishing reference to video not yet transcoded.</li> </ul> <p><img alt src=../images/youtube.png></p> <h3 id=designing-search-engine>Designing search engine<a class=headerlink href=#designing-search-engine title="Permanent link">&para;</a></h3> <ul> <li>Like google, billions of people and billion of pages</li> <li>The problem is really how to get accurate results for a given query.</li> <li> <p>Start from a reporting database with URL of pages </p> </li> <li> <p>Need to avoid people adding thousand of the same keyword in a unique page to get the hit.</p> </li> <li>Accurate result means the search will return a list of the most likely page what the user's expects. So need to get metrics on page accuracy. </li> <li>we can compute how many times a user perform a search after page results were displayed within a specific time window.</li> </ul> <p><strong>Elaborate an algorithm:</strong></p> <ul> <li>TF/IDF : term frequency / document frequency to assess how a term is relevant across documents. It works fine for a small document base. With internet scale the denominator is mostly impossible to compute.</li> <li>To address a better solution we need to thing about what to present to the user: a list of top 10 hits. So we need an inverted index: searched keyword -&gt; list of pages sorted by relevance.</li> <li>Page rank was developed for Google to assign a rank based on number of link to the page.</li> <li> <p>How to evaluate relevance of a term within a doc: terms in the documentation, the position, the title, the font size, heading, formatting, metadata attached to the document.</p> </li> <li> <p>Starting for the repository of web pages</p> </li> <li>Need to build a forward indexing to extract word count in document, then reverse it to build for word -&gt; documents list</li> <li>Then compute back links: the link reaching a given page</li> </ul> <p><img alt src=../images/search.png></p> <h3 id=bpel-to-microservices>BPEL to microservices<a class=headerlink href=#bpel-to-microservices title="Permanent link">&para;</a></h3> <p>Taking into source a BPEL flow like the one below, how do you migrate this application logic to a microservice architecture, may be event-driven?</p> <p><img alt src=../diagrams/bpel-1.drawio.png></p> <ul> <li>Input can come from HTTP SOAP requests or messages in queue</li> <li>Green components are Service Component Architecture services</li> <li>Customers validation, and persistence can be retried multiple times</li> <li>With BPEL engine state transfer will be persisted to the process server database.</li> <li>The big white rectangle represents an orchestrator</li> <li>Acknowledgement service is to send the customer a message, so we do not want to send duplicate messages</li> <li>B2B call is idempotent</li> <li>Generate a unique id as part of the response: tx_id</li> <li>Exception is about business exception so will be defined inside of any business service.</li> <li>Exception management may trigger human activities to clean the data, gather more information.</li> <li>Compensation flow: if persistence fails, we want to roll back the exception message persistence and restarts from the point before the parallel processing. There are points in the process where we can restart a process, but they are points where the only solution is to cancel the full case.</li> </ul> <p><em>There is no mention that the flow is part of an external transaction, so to avoid loosing message as soon as the flow gets http soap request or message from queue, it needs to persist those messages and starts the process of customer validation, form validation... If this STP takes 5 seconds to run, it is possible to loose data.</em></p> <p>HTTP response needs to be returned, so is this flow needs to be terminated before sending the response? If not it means the process will take more time, and so there is a need to be able to contact the person / submitter that something went wrong.</p> <p>One of the question is is this white big rectangle could be part of a 'transaction' so needs to offer rolling back state controlled by other.</p> <p>Saga: is the solution for distributed long running transaction. In Saga, a compensating transaction must be idempotent and retryable.</p> <p>Saga as atomicity, consistency, durability but is not isolated. Kafka and event sourcing can be user to implement the SAGA. The event is the source of trust. Kafka is the data base for this saga transaction. What does it mean to be consistent with event sourcing? </p> <p>The Saga Execution Coordinator is the central component to implement a Saga flow. It contains a Saga log that captures the sequence of events of a distributed transaction. For any failure, the SEC component inspects the Saga log to identify the components impacted and the sequence in which the compensating transactions should execute.</p> <p>For any failure in the SEC component, it can read the Saga log once it’s coming back up. It can then identify the transactions successfully rolled back, which ones are pending, and can take appropriate actions:</p> <p>In the Saga Choreography pattern, each microservices that is part of the transaction publishes an event that is processed by the next microservice. To use this pattern, one needs to make a decision whether the microservice will be part of the Saga. The Choreography pattern is suitable for greenfield microservice application development. </p> <p>With <a href=https://camel.apache.org/components/3.16.x/eips/saga-eip.html>Camel SAGA</a> the Saga EIP implementation based on the MicroProfile sandbox spec (see camel-lra) is indeed called LRA that stands for "Long Running Action".</p> <p>There is another solution that it is purely on top of Kafka: <a href=https://simplesource.io/simple_sourcing_docs_home.html>the Simple source is an open source project for event sourcing with Kafka</a> and Kafka Streams which can be used for SAGA. </p> <p>Microprofile Long Running Action is the supported approach in Java to do SAGA. <a href=https://github.com/jbcodeforce/saga-lra-quarkus>This project</a> presents how to use LRA in the context of refrigerator contrainer shipping solution.</p> <p>While <a href=https://jbcodeforce.github.io/saga-choreography-kafka>this project</a> implements Saga choreography with Kafka.</p> <h3 id=music-tracking>Music tracking<a class=headerlink href=#music-tracking title="Permanent link">&para;</a></h3> <p><strong>Problem:</strong> given an API to track a certain user listened to a certain song, build a system to track the top 10 most listened to songs and albums in the last week (hours, day, week, month, years aggregations are needed).</p> <p>Use cases: - user plays song. This API tracks the song played at a certain time by a certain users. - playing a song creates an event of start time and song played by who - The list of top 10 songs needs to be updated every hour</p> <p>Scale: - 400 registered users - 40% are active users - Average 2 hours listening every day. Will depend of the population age. - 70 millions of songs. 60 songs added every day - traffic around 200 query per second can grow to 1000qps</p> <ol> <li> <p><strong>Components:</strong> Add queueing, pub/sub after the API gateway to push song start record with other information of the user. The goal is to decouple the downstream processing from the write API.</p> <p><img alt src=../diagrams/song-tracker.drawio.png></p> <p>The 'start-song -event' includes user_id, song_id, timestamps, device_reference. There will be a stop-song-event, with the same data. Stop event may not be relevant for this use cases.</p> <p>The aggregation will be: count the number of event with the same song_id over 60 minutes time window, report this aggregation to a persisted row: date-hours - song_id - count table in Lake House. </p> </li> <li> <p><strong>Application Flow:</strong> event to kafka partition can be allocated on the song_id. So all events avout a sond will be in the same partition. We can have hundred of partitions so scale the number of streaming processing. Once event arrived in kafka partition it has also a timestamp. We can add stateful processing to compute the aggregate per minutes or hours. As we also needs to compute larger time windows, we can do some push the aggregation to lake house persistence. Lake House hasa protocol to query data at rest, in cloud object storage format, parquet format. </p> </li> <li> <p><strong>Scaling:</strong> adopting a messaging system will help scaling streaming processing. The cloud object storage will help to scale the number of object to persist. The current estimated size it quite low:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>
</code></pre></div> </li> <li> <p><strong>Resiliency:</strong> multi-region deployment, load balancers, active-active capacity on both regions to support failing</p> </li> </ol> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../../leadership/first-90-days/ class="md-footer__link md-footer__link--prev" aria-label="Previous: 90 Days"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> 90 Days </div> </div> </a> <a href=../tcpip/ class="md-footer__link md-footer__link--next" aria-label="Next: TPC/IP summary"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> TPC/IP summary </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2018 - 2024 Jerome Boyer </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/jbcodeforce target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://linkedin.com/in/jeromeboyer target=_blank rel=noopener title=linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> <a href target=_blank rel=noopener title class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480v-83.6c0-4 1.5-7.8 4.2-10.8l167.6-182.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8l-88.3-44.2C7.1 311.3.3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "../..", "features": ["content.code.annotate", "content.code.copy", "content.tooltips", "search.highlight", "navigation.instant", "navigation.instant.progress", "navigation.tabs", "navigation.instant", "navigation.tabs.sticky", "navigation.tracking", "navigation.footer", "navigation.tabs.sticky", "navigation.top"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.525ec568.min.js></script> </body> </html>